---
title: "가상 면접 사례로 배우는 대규모 시스템 설계 기초 - 정리 14장 유튜브 설계"
date: 2025-08-04 06:06:00 +0900
categories: [가상 면접 사례로 배우는 대규모 시스템 설계 기초]
tags: [Architecture]
description: 가상 면접 사례로 배우는 대규모 시스템 설계 기초 리뷰
toc: true
comments: true
---

# 가상 면접 사례로 배우는 대규모 시스템 설계 기초 

## 14장 유튜브 설계

유튜브 뿐만 아니라 넷플릭스와 같은 비디오 플랫폼을 설계하는 문제에도 적용이 가능하다.

### 요구사항 분석 

- 빠른 비디오 업로드
- 원활한 비디오 재생
- 재생 품질 선택 가능
- 낮은 인프라 비용
- 높은 가용성, 규모 확장성 그리고 안정성
- 지원 클라이언트 모바일, 웹 그리고 스마트 TV
### 개략적 설계 방안

이 책에서 제시하는 방법은 CDN, BLOB 스토리지의 경우 기존 클라우드 서비스를 활용할 것이다. 

- 비디오는 CDN에 저장한다 재생 버튼을 누르면 CDN으로 부터 스트리밍이 진행된다. 
- API 서버 : 비디오 스트리밍을 제외한 모든 요청은 API서버가 처리한다. 피드 추천, 비디오 업로드, 메타데이터 데이터 베이스 갱신, 사용자 가입 등
핵심 Flow로 아래 두 절차를 요청했다고 가정하자

- 비디오 업로드 절차
- 비디오 스트리밍 절차
답변

- 트랜스코딩 서버는 비디오 트랜스코딩으로 비디오의 포맷을 변환하는 절차이다. 대역폭에 맞춰 최적의 비디오 스트림을 제공하기 위함이다. → 이 저장소가 Blob저장소이다.
![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/7b04cdb2-ced4-4bf8-9605-bbcc0c31c0c9/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664U4IY5D3%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T070457Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAYaCXVzLXdlc3QtMiJHMEUCIBzoRRoZpjCIOlKi56NuwltHVWlBtiWSvIq1yxgQDXOYAiEA52A4aJsdF%2BLhyXaRfZfo87L3xFplh5jAiN5P6dy6CtUq%2FwMIPxAAGgw2Mzc0MjMxODM4MDUiDOYLCTqsD1%2BLXVwCTyrcA0fFjfCzYc5Rps8T0I%2F%2FzvGKuDZ5yD6SNsuRXjF%2BrCClJQh%2B%2FBShbyaC%2FjgqvieAUT%2F%2BozzoP2xkKiVvfeVcmIDb7iDl1KU2iB1R2U9kgBZ3UUMp6VpHriLMqs5uLUy1DVO5BMuXgoQ401NyBj3D7%2Ft0QrM%2BXnKq2Cfdk2C2dVHDO1SrULlupaT%2BzIRWJC1%2B0O2ZMxHnN11GZvG4DwmrQJFIjeDHLet2TRNWBLTcm4xamKwmX1PFgKDVtDBiPT3LSk3J2Pqgpf0ze70LRiXjFZKFNBvAAP3D1VrKu0AE6i0va8jOGMMG4HgBnw4ybncSsxCn02hED9RAh2KQVTdFND%2BZXWykqV2f1PBV5Gc9tWYqlGg%2FQKV8Qe6Nutq6%2Ff92ZNKOMu2Ic1%2BurPU2GNCbUZAoeocczryTkP7BpgprUXjteXj8wt71KSxx%2BY6tpgY3LmXYfK%2Bp5p98DTIMTTFYOzD71VfZHMIZJ8UREG7%2FLCkEyIaIKfU%2By%2FofPgSEARGFRp4yKXZQhOjjHZ0r0JtpVqIS7YpHqdhWKkUHOfk%2BgI3yxCJt5F%2FPt3fKEbW%2FkJ95UlVbQT1kCcTqK%2BWMyeieQyKVQ5fLHUiOmhFqm7m4Z63QhBX1PhXWm3aiO7QKMMCNwcQGOqUBpJG2RDdDlld%2FXHq9QSgU9aeNopx8SAvAF4Jqw29zo0ZtUk1HQdPnheXA2LzobZ%2BRXopGaZHjeVJmUwH8%2FngjL4z5E%2FBfbiAoCA%2FwqBwl2wS4%2B6exR3OKXMUIjJpt5l16WB4HdKwIbSTuGtbctrwKh4hLSlEFhIKbD3FPQPVMZ%2FLkHeUdpFAa99QffcTVxB5wUs8j2lcw8OliG2v8zZ0PbHEGHFKB&X-Amz-Signature=66d0ce234b471f83702a7ba0c7059fb96ea178d102c7e38e99834d51f8da3778&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

- 스트리밍 절차는 스트리밍 프로토콜에 대해 알아야한다. 비디오 스트리밍에서 데이터 전송을 위한 표준화된 통신방법으로MPEG-DASH, 애플 HLS, 마이크로소프트 스무드 스트리밍 등등이 있다. 이런 프로토콜이 있다는 점을 알고만 있으면 좋을 듯 하다.
![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/8fcbf81f-4911-4ada-b971-9ee3810d30fa/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664U4IY5D3%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T070457Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAYaCXVzLXdlc3QtMiJHMEUCIBzoRRoZpjCIOlKi56NuwltHVWlBtiWSvIq1yxgQDXOYAiEA52A4aJsdF%2BLhyXaRfZfo87L3xFplh5jAiN5P6dy6CtUq%2FwMIPxAAGgw2Mzc0MjMxODM4MDUiDOYLCTqsD1%2BLXVwCTyrcA0fFjfCzYc5Rps8T0I%2F%2FzvGKuDZ5yD6SNsuRXjF%2BrCClJQh%2B%2FBShbyaC%2FjgqvieAUT%2F%2BozzoP2xkKiVvfeVcmIDb7iDl1KU2iB1R2U9kgBZ3UUMp6VpHriLMqs5uLUy1DVO5BMuXgoQ401NyBj3D7%2Ft0QrM%2BXnKq2Cfdk2C2dVHDO1SrULlupaT%2BzIRWJC1%2B0O2ZMxHnN11GZvG4DwmrQJFIjeDHLet2TRNWBLTcm4xamKwmX1PFgKDVtDBiPT3LSk3J2Pqgpf0ze70LRiXjFZKFNBvAAP3D1VrKu0AE6i0va8jOGMMG4HgBnw4ybncSsxCn02hED9RAh2KQVTdFND%2BZXWykqV2f1PBV5Gc9tWYqlGg%2FQKV8Qe6Nutq6%2Ff92ZNKOMu2Ic1%2BurPU2GNCbUZAoeocczryTkP7BpgprUXjteXj8wt71KSxx%2BY6tpgY3LmXYfK%2Bp5p98DTIMTTFYOzD71VfZHMIZJ8UREG7%2FLCkEyIaIKfU%2By%2FofPgSEARGFRp4yKXZQhOjjHZ0r0JtpVqIS7YpHqdhWKkUHOfk%2BgI3yxCJt5F%2FPt3fKEbW%2FkJ95UlVbQT1kCcTqK%2BWMyeieQyKVQ5fLHUiOmhFqm7m4Z63QhBX1PhXWm3aiO7QKMMCNwcQGOqUBpJG2RDdDlld%2FXHq9QSgU9aeNopx8SAvAF4Jqw29zo0ZtUk1HQdPnheXA2LzobZ%2BRXopGaZHjeVJmUwH8%2FngjL4z5E%2FBfbiAoCA%2FwqBwl2wS4%2B6exR3OKXMUIjJpt5l16WB4HdKwIbSTuGtbctrwKh4hLSlEFhIKbD3FPQPVMZ%2FLkHeUdpFAa99QffcTVxB5wUs8j2lcw8OliG2v8zZ0PbHEGHFKB&X-Amz-Signature=103a4eb2bfce10fbcd221aec3099077d4551440422c50763c021a6e10c6e0238&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

### 비디오 스트리밍 Flow

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/123d7350-a870-40b1-835a-77b327624f72/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664U4IY5D3%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T070457Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAYaCXVzLXdlc3QtMiJHMEUCIBzoRRoZpjCIOlKi56NuwltHVWlBtiWSvIq1yxgQDXOYAiEA52A4aJsdF%2BLhyXaRfZfo87L3xFplh5jAiN5P6dy6CtUq%2FwMIPxAAGgw2Mzc0MjMxODM4MDUiDOYLCTqsD1%2BLXVwCTyrcA0fFjfCzYc5Rps8T0I%2F%2FzvGKuDZ5yD6SNsuRXjF%2BrCClJQh%2B%2FBShbyaC%2FjgqvieAUT%2F%2BozzoP2xkKiVvfeVcmIDb7iDl1KU2iB1R2U9kgBZ3UUMp6VpHriLMqs5uLUy1DVO5BMuXgoQ401NyBj3D7%2Ft0QrM%2BXnKq2Cfdk2C2dVHDO1SrULlupaT%2BzIRWJC1%2B0O2ZMxHnN11GZvG4DwmrQJFIjeDHLet2TRNWBLTcm4xamKwmX1PFgKDVtDBiPT3LSk3J2Pqgpf0ze70LRiXjFZKFNBvAAP3D1VrKu0AE6i0va8jOGMMG4HgBnw4ybncSsxCn02hED9RAh2KQVTdFND%2BZXWykqV2f1PBV5Gc9tWYqlGg%2FQKV8Qe6Nutq6%2Ff92ZNKOMu2Ic1%2BurPU2GNCbUZAoeocczryTkP7BpgprUXjteXj8wt71KSxx%2BY6tpgY3LmXYfK%2Bp5p98DTIMTTFYOzD71VfZHMIZJ8UREG7%2FLCkEyIaIKfU%2By%2FofPgSEARGFRp4yKXZQhOjjHZ0r0JtpVqIS7YpHqdhWKkUHOfk%2BgI3yxCJt5F%2FPt3fKEbW%2FkJ95UlVbQT1kCcTqK%2BWMyeieQyKVQ5fLHUiOmhFqm7m4Z63QhBX1PhXWm3aiO7QKMMCNwcQGOqUBpJG2RDdDlld%2FXHq9QSgU9aeNopx8SAvAF4Jqw29zo0ZtUk1HQdPnheXA2LzobZ%2BRXopGaZHjeVJmUwH8%2FngjL4z5E%2FBfbiAoCA%2FwqBwl2wS4%2B6exR3OKXMUIjJpt5l16WB4HdKwIbSTuGtbctrwKh4hLSlEFhIKbD3FPQPVMZ%2FLkHeUdpFAa99QffcTVxB5wUs8j2lcw8OliG2v8zZ0PbHEGHFKB&X-Amz-Signature=65cfd4be27b6f1e210e46dda9b4be898b274c5e71ceb11d2e3d3ea0023aab709&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/b86ce916-ce5c-4fe2-85a5-c7a59fa6968b/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664U4IY5D3%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T070457Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAYaCXVzLXdlc3QtMiJHMEUCIBzoRRoZpjCIOlKi56NuwltHVWlBtiWSvIq1yxgQDXOYAiEA52A4aJsdF%2BLhyXaRfZfo87L3xFplh5jAiN5P6dy6CtUq%2FwMIPxAAGgw2Mzc0MjMxODM4MDUiDOYLCTqsD1%2BLXVwCTyrcA0fFjfCzYc5Rps8T0I%2F%2FzvGKuDZ5yD6SNsuRXjF%2BrCClJQh%2B%2FBShbyaC%2FjgqvieAUT%2F%2BozzoP2xkKiVvfeVcmIDb7iDl1KU2iB1R2U9kgBZ3UUMp6VpHriLMqs5uLUy1DVO5BMuXgoQ401NyBj3D7%2Ft0QrM%2BXnKq2Cfdk2C2dVHDO1SrULlupaT%2BzIRWJC1%2B0O2ZMxHnN11GZvG4DwmrQJFIjeDHLet2TRNWBLTcm4xamKwmX1PFgKDVtDBiPT3LSk3J2Pqgpf0ze70LRiXjFZKFNBvAAP3D1VrKu0AE6i0va8jOGMMG4HgBnw4ybncSsxCn02hED9RAh2KQVTdFND%2BZXWykqV2f1PBV5Gc9tWYqlGg%2FQKV8Qe6Nutq6%2Ff92ZNKOMu2Ic1%2BurPU2GNCbUZAoeocczryTkP7BpgprUXjteXj8wt71KSxx%2BY6tpgY3LmXYfK%2Bp5p98DTIMTTFYOzD71VfZHMIZJ8UREG7%2FLCkEyIaIKfU%2By%2FofPgSEARGFRp4yKXZQhOjjHZ0r0JtpVqIS7YpHqdhWKkUHOfk%2BgI3yxCJt5F%2FPt3fKEbW%2FkJ95UlVbQT1kCcTqK%2BWMyeieQyKVQ5fLHUiOmhFqm7m4Z63QhBX1PhXWm3aiO7QKMMCNwcQGOqUBpJG2RDdDlld%2FXHq9QSgU9aeNopx8SAvAF4Jqw29zo0ZtUk1HQdPnheXA2LzobZ%2BRXopGaZHjeVJmUwH8%2FngjL4z5E%2FBfbiAoCA%2FwqBwl2wS4%2B6exR3OKXMUIjJpt5l16WB4HdKwIbSTuGtbctrwKh4hLSlEFhIKbD3FPQPVMZ%2FLkHeUdpFAa99QffcTVxB5wUs8j2lcw8OliG2v8zZ0PbHEGHFKB&X-Amz-Signature=6b3863cc46c0f48d3c3fd29701518bf61c69a7fcc1bd76c706730a05863c976a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

### 마무리

- API 계층의 규모 확장성 방안
- 데이터베이스 계층 규모 확장성 방안
- 라이브 스트리밍 방안
- 비디오 삭제
- 등

