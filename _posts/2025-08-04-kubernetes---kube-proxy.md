---
title: "Kubernetes - Kube-Proxy"
date: 2025-08-04 06:05:00 +0900
categories: [kubernetes]
tags: [Kubernetes]
description: Kubernetes 기초
toc: true
comments: true
---

# Kube Proxy

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/09fe6073-4730-4f06-b1f3-ec4d1c892eb3/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667S5BOXRK%2F20250805%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250805T061004Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEB4aCXVzLXdlc3QtMiJHMEUCIQDvNsvfhHmK%2FL9PGYo4%2F6W9IfyWEmAZDutKiMJgPi1O5QIgIuh4D2aGesapaNmSRphHTKC2qy4Yt3266VLRmfhwPR4q%2FwMIVxAAGgw2Mzc0MjMxODM4MDUiDH8ECKFYqaWkirMsnCrcA2Bp04CV0OwwM0%2FDDMNbKnIHVrKnlpyp8G7GPaO5e4i2Ej1RcUvZrhrAMWYXcHQk%2B0onyOfM280b%2FJ6NZ6RKDXIyArYZZo3b0Gq2MlDcPCgHM%2BdyMPh%2FmnAPZHmlG5jaQ7%2F9anvxCHejEWSVtt6F522YI5NXP0hXeYGKyzIgCfrJU8AcubSlqVrIhvUSvMgl67Ny8ClU79op9Of21R0Co1Wd0IUJMMKU4%2B%2F4LAJs76O89nnOmNgAfhy0MzJefa22XhaTYqUU83iVCcN0Acv2EaVhyiogbnTqoy%2BtsaZ8HX87emVeSGd0Gz12Bk%2FJG5SwNE8xGxF%2FIvJCrQBbUtmrxr5E3FOP0x%2BFSK0FUjdNqVADGkA0KxO%2FqnMfD8lAXQ9hby1%2Bl32bNVfniu7qwke6JzI6MjdNfpX3hhNqxA3ZrljacGjXsSS4zI1e4aTKPTReghCnNMODlDdy6IJaXc6HeEBM1CsshOnXihUIwpN8CW4Y0KQHw5SvgeTTj%2FyG0%2F3Vrf%2F%2BVYmCjVw5ujJ96I6Jnv6bEj%2BG6bXyWBH2BPMdwYA5TL50PHOFD4otDVrQJyUKstw4L12KTnHJjF%2FzbU0kn8PsM4MXy5K2M0Yy2qG%2FgjfQUEup8Pm1KVreotGnMMCzxsQGOqUBXGIKKOrLQABLMpuvMyPVknkE%2FRn%2FfjizogCgvqf8pUmVYhtIyUA3kIOZmaG8gesdBmKCW4MYuD%2BrpudzJrHwTZar%2BsdaAmQf1ZbbSp7M5MhlcSqGyYRWgEn8qfORu%2BcN6XxwNabBjOXR8o0Kk63m9Yh%2FXMH1mSHpq4I1A3a4C2RZ01VDjz9lZdtlKi%2B0BQM1HG3m8Hbji9GB%2FSFap5fRc3FnRWdz&X-Amz-Signature=31fa0b88dd5d2dc3729f7450c13f598ccb89c504d344109b769f7a1cde152fc4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

각 Node 안쪽에 Kube-proxy가 위치한것을 볼 수 있다.

### Kube-Proxy란

K8s에서 Network를 담당하는 컴포넌트이다.

각 Node에 Proxy가 하나씩 있고, DaemonSet형태로 Kubernetes에 존재한다.

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/5523f286-c968-486e-bca5-1b7149e1bab4/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667S5BOXRK%2F20250805%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250805T061004Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEB4aCXVzLXdlc3QtMiJHMEUCIQDvNsvfhHmK%2FL9PGYo4%2F6W9IfyWEmAZDutKiMJgPi1O5QIgIuh4D2aGesapaNmSRphHTKC2qy4Yt3266VLRmfhwPR4q%2FwMIVxAAGgw2Mzc0MjMxODM4MDUiDH8ECKFYqaWkirMsnCrcA2Bp04CV0OwwM0%2FDDMNbKnIHVrKnlpyp8G7GPaO5e4i2Ej1RcUvZrhrAMWYXcHQk%2B0onyOfM280b%2FJ6NZ6RKDXIyArYZZo3b0Gq2MlDcPCgHM%2BdyMPh%2FmnAPZHmlG5jaQ7%2F9anvxCHejEWSVtt6F522YI5NXP0hXeYGKyzIgCfrJU8AcubSlqVrIhvUSvMgl67Ny8ClU79op9Of21R0Co1Wd0IUJMMKU4%2B%2F4LAJs76O89nnOmNgAfhy0MzJefa22XhaTYqUU83iVCcN0Acv2EaVhyiogbnTqoy%2BtsaZ8HX87emVeSGd0Gz12Bk%2FJG5SwNE8xGxF%2FIvJCrQBbUtmrxr5E3FOP0x%2BFSK0FUjdNqVADGkA0KxO%2FqnMfD8lAXQ9hby1%2Bl32bNVfniu7qwke6JzI6MjdNfpX3hhNqxA3ZrljacGjXsSS4zI1e4aTKPTReghCnNMODlDdy6IJaXc6HeEBM1CsshOnXihUIwpN8CW4Y0KQHw5SvgeTTj%2FyG0%2F3Vrf%2F%2BVYmCjVw5ujJ96I6Jnv6bEj%2BG6bXyWBH2BPMdwYA5TL50PHOFD4otDVrQJyUKstw4L12KTnHJjF%2FzbU0kn8PsM4MXy5K2M0Yy2qG%2FgjfQUEup8Pm1KVreotGnMMCzxsQGOqUBXGIKKOrLQABLMpuvMyPVknkE%2FRn%2FfjizogCgvqf8pUmVYhtIyUA3kIOZmaG8gesdBmKCW4MYuD%2BrpudzJrHwTZar%2BsdaAmQf1ZbbSp7M5MhlcSqGyYRWgEn8qfORu%2BcN6XxwNabBjOXR8o0Kk63m9Yh%2FXMH1mSHpq4I1A3a4C2RZ01VDjz9lZdtlKi%2B0BQM1HG3m8Hbji9GB%2FSFap5fRc3FnRWdz&X-Amz-Signature=e2f7fbe6afb6ba7cc8a4998def041f29b03dc2f811a4d8069ec79301906c1bde&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/7d447a12-8224-41fc-b731-32344196224a/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667S5BOXRK%2F20250805%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250805T061004Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEB4aCXVzLXdlc3QtMiJHMEUCIQDvNsvfhHmK%2FL9PGYo4%2F6W9IfyWEmAZDutKiMJgPi1O5QIgIuh4D2aGesapaNmSRphHTKC2qy4Yt3266VLRmfhwPR4q%2FwMIVxAAGgw2Mzc0MjMxODM4MDUiDH8ECKFYqaWkirMsnCrcA2Bp04CV0OwwM0%2FDDMNbKnIHVrKnlpyp8G7GPaO5e4i2Ej1RcUvZrhrAMWYXcHQk%2B0onyOfM280b%2FJ6NZ6RKDXIyArYZZo3b0Gq2MlDcPCgHM%2BdyMPh%2FmnAPZHmlG5jaQ7%2F9anvxCHejEWSVtt6F522YI5NXP0hXeYGKyzIgCfrJU8AcubSlqVrIhvUSvMgl67Ny8ClU79op9Of21R0Co1Wd0IUJMMKU4%2B%2F4LAJs76O89nnOmNgAfhy0MzJefa22XhaTYqUU83iVCcN0Acv2EaVhyiogbnTqoy%2BtsaZ8HX87emVeSGd0Gz12Bk%2FJG5SwNE8xGxF%2FIvJCrQBbUtmrxr5E3FOP0x%2BFSK0FUjdNqVADGkA0KxO%2FqnMfD8lAXQ9hby1%2Bl32bNVfniu7qwke6JzI6MjdNfpX3hhNqxA3ZrljacGjXsSS4zI1e4aTKPTReghCnNMODlDdy6IJaXc6HeEBM1CsshOnXihUIwpN8CW4Y0KQHw5SvgeTTj%2FyG0%2F3Vrf%2F%2BVYmCjVw5ujJ96I6Jnv6bEj%2BG6bXyWBH2BPMdwYA5TL50PHOFD4otDVrQJyUKstw4L12KTnHJjF%2FzbU0kn8PsM4MXy5K2M0Yy2qG%2FgjfQUEup8Pm1KVreotGnMMCzxsQGOqUBXGIKKOrLQABLMpuvMyPVknkE%2FRn%2FfjizogCgvqf8pUmVYhtIyUA3kIOZmaG8gesdBmKCW4MYuD%2BrpudzJrHwTZar%2BsdaAmQf1ZbbSp7M5MhlcSqGyYRWgEn8qfORu%2BcN6XxwNabBjOXR8o0Kk63m9Yh%2FXMH1mSHpq4I1A3a4C2RZ01VDjz9lZdtlKi%2B0BQM1HG3m8Hbji9GB%2FSFap5fRc3FnRWdz&X-Amz-Signature=4f33c836aabb7e4379412aa5f875fa0023ccede6f4f80ec3c164f12f4af07e31&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

클라이언트(사용)가 쿠버네티스 API로 정의한 서비스에 연결할 수 있도록 해주는 역할을 한다. 서비스의 IP와 Port로 들어온 접속을 서비스를 지원하는 POD중 하나로 연결해 준다.

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/dcc268b3-5716-45ac-bf0b-63631615eda6/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667S5BOXRK%2F20250805%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250805T061003Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEB4aCXVzLXdlc3QtMiJHMEUCIQDvNsvfhHmK%2FL9PGYo4%2F6W9IfyWEmAZDutKiMJgPi1O5QIgIuh4D2aGesapaNmSRphHTKC2qy4Yt3266VLRmfhwPR4q%2FwMIVxAAGgw2Mzc0MjMxODM4MDUiDH8ECKFYqaWkirMsnCrcA2Bp04CV0OwwM0%2FDDMNbKnIHVrKnlpyp8G7GPaO5e4i2Ej1RcUvZrhrAMWYXcHQk%2B0onyOfM280b%2FJ6NZ6RKDXIyArYZZo3b0Gq2MlDcPCgHM%2BdyMPh%2FmnAPZHmlG5jaQ7%2F9anvxCHejEWSVtt6F522YI5NXP0hXeYGKyzIgCfrJU8AcubSlqVrIhvUSvMgl67Ny8ClU79op9Of21R0Co1Wd0IUJMMKU4%2B%2F4LAJs76O89nnOmNgAfhy0MzJefa22XhaTYqUU83iVCcN0Acv2EaVhyiogbnTqoy%2BtsaZ8HX87emVeSGd0Gz12Bk%2FJG5SwNE8xGxF%2FIvJCrQBbUtmrxr5E3FOP0x%2BFSK0FUjdNqVADGkA0KxO%2FqnMfD8lAXQ9hby1%2Bl32bNVfniu7qwke6JzI6MjdNfpX3hhNqxA3ZrljacGjXsSS4zI1e4aTKPTReghCnNMODlDdy6IJaXc6HeEBM1CsshOnXihUIwpN8CW4Y0KQHw5SvgeTTj%2FyG0%2F3Vrf%2F%2BVYmCjVw5ujJ96I6Jnv6bEj%2BG6bXyWBH2BPMdwYA5TL50PHOFD4otDVrQJyUKstw4L12KTnHJjF%2FzbU0kn8PsM4MXy5K2M0Yy2qG%2FgjfQUEup8Pm1KVreotGnMMCzxsQGOqUBXGIKKOrLQABLMpuvMyPVknkE%2FRn%2FfjizogCgvqf8pUmVYhtIyUA3kIOZmaG8gesdBmKCW4MYuD%2BrpudzJrHwTZar%2BsdaAmQf1ZbbSp7M5MhlcSqGyYRWgEn8qfORu%2BcN6XxwNabBjOXR8o0Kk63m9Yh%2FXMH1mSHpq4I1A3a4C2RZ01VDjz9lZdtlKi%2B0BQM1HG3m8Hbji9GB%2FSFap5fRc3FnRWdz&X-Amz-Signature=76302571c62f12b357a69c19fdca232ea301c256c55d5f2beccabeedb26ff34d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

커널 iptables를 활용하여 연결한다.

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/6019cdb1-f915-4906-990b-fe49a1f5b1b0/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667S5BOXRK%2F20250805%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250805T061004Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEB4aCXVzLXdlc3QtMiJHMEUCIQDvNsvfhHmK%2FL9PGYo4%2F6W9IfyWEmAZDutKiMJgPi1O5QIgIuh4D2aGesapaNmSRphHTKC2qy4Yt3266VLRmfhwPR4q%2FwMIVxAAGgw2Mzc0MjMxODM4MDUiDH8ECKFYqaWkirMsnCrcA2Bp04CV0OwwM0%2FDDMNbKnIHVrKnlpyp8G7GPaO5e4i2Ej1RcUvZrhrAMWYXcHQk%2B0onyOfM280b%2FJ6NZ6RKDXIyArYZZo3b0Gq2MlDcPCgHM%2BdyMPh%2FmnAPZHmlG5jaQ7%2F9anvxCHejEWSVtt6F522YI5NXP0hXeYGKyzIgCfrJU8AcubSlqVrIhvUSvMgl67Ny8ClU79op9Of21R0Co1Wd0IUJMMKU4%2B%2F4LAJs76O89nnOmNgAfhy0MzJefa22XhaTYqUU83iVCcN0Acv2EaVhyiogbnTqoy%2BtsaZ8HX87emVeSGd0Gz12Bk%2FJG5SwNE8xGxF%2FIvJCrQBbUtmrxr5E3FOP0x%2BFSK0FUjdNqVADGkA0KxO%2FqnMfD8lAXQ9hby1%2Bl32bNVfniu7qwke6JzI6MjdNfpX3hhNqxA3ZrljacGjXsSS4zI1e4aTKPTReghCnNMODlDdy6IJaXc6HeEBM1CsshOnXihUIwpN8CW4Y0KQHw5SvgeTTj%2FyG0%2F3Vrf%2F%2BVYmCjVw5ujJ96I6Jnv6bEj%2BG6bXyWBH2BPMdwYA5TL50PHOFD4otDVrQJyUKstw4L12KTnHJjF%2FzbU0kn8PsM4MXy5K2M0Yy2qG%2FgjfQUEup8Pm1KVreotGnMMCzxsQGOqUBXGIKKOrLQABLMpuvMyPVknkE%2FRn%2FfjizogCgvqf8pUmVYhtIyUA3kIOZmaG8gesdBmKCW4MYuD%2BrpudzJrHwTZar%2BsdaAmQf1ZbbSp7M5MhlcSqGyYRWgEn8qfORu%2BcN6XxwNabBjOXR8o0Kk63m9Yh%2FXMH1mSHpq4I1A3a4C2RZ01VDjz9lZdtlKi%2B0BQM1HG3m8Hbji9GB%2FSFap5fRc3FnRWdz&X-Amz-Signature=0aee3e470a562f6e8c55de25f4122a258479e0fcf58a433ac3a815261a6b8f62&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


