---
title: "Kubernetes - Kube-Proxy"
date: 2025-08-04 06:05:00 +0900
categories: [kubernetes]
tags: [Kubernetes]
description: Kubernetes 기초
toc: true
comments: true
---

# Kube Proxy

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/09fe6073-4730-4f06-b1f3-ec4d1c892eb3/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZQT26UE5%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T072144Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAcaCXVzLXdlc3QtMiJGMEQCIBcQvrARSrAg8qXffSpTgYo14uIywMQoNmNvTqGmg%2B9wAiBP0IMLGJUGuYwug%2B3LY7LKDHlq6ABOpJSm484wtbUUhSr%2FAwhAEAAaDDYzNzQyMzE4MzgwNSIMkjL4r1%2BHkCSjKbpPKtwDjP4GaGueHMB4gqX49SxXquvA0RhHtMUn8ftmU89%2BceiO1ZEajV7GzamIOTPN%2FQOblxjirzXGalr8e6lAf7OvG%2BRQbsHY%2F2ih3UOvi8XFfaf5SsYD6GKiiNyGkWqoDd8j4PVXFo3UoDpPn9ripR7fCd5WVvTORZz5NluJe5yft84AGbyPilxeIbFiob2gdqz2yIcNDL5czP7YMNicN1Ip2TLSpGf6wDKfJTD%2Fc%2FuxA0bllLge16Y07ZTzdtKNC%2BzWAZU352fPkbVsNalkhi7v7HHSaPsS2JSa2mc1LhxKsezS8AqvdjVOLmHYARgUuKy%2F%2Fj%2FEdysZ%2F1qGtFcWFG7bVOsUtAVNT3gYUOALrvCh1oBSCLbheGM9gUKBsC6Oye5D5Bg8u7owYvK389rZmSM8CaDVK%2FY6Q7NQ2oK5Qbs2r3Zd1x0wSCQk6OqbPXqpvVcTQfOXXf9ipvbmi5DfFPj7ujLtw%2Fgzd%2BKmGkFtoO5U%2Fxq%2BIki%2FYrbOhxqaRH2UYSkkj0U8QTHbQwYX6u%2BSI0By5pPYjPxcz8EubfyIVNryIsBahEkBzt5rALCBDxMsxkG6ZUNhDV513wXXFHhq%2FgHdDFzvqlMP30M%2BLnUSB5adLaUeX74AvbBKvo2KYlgwgLfBxAY6pgEinLsNC%2BEusf%2BYNDTp0bju4HQnCqrjCMkquxbOa4bNIoYQX0Qbi2c8oIf2M9GWG7JAvLQ4FmjpVM2tuhPQ%2B%2BZO%2Fu7%2FMQIvF67Q4DtnnzdTKEf8rHfJfU3OzAJysgd%2FlgmCHLU3eyqBhAuHkmwuY6%2FKt7EBHW51rjs0Zqk0GjJVYKvQwrssGa%2FvLqDhPZiwsasVWcgF62WGUuvnrLV8eIYPWEfCQ8S8&X-Amz-Signature=584e2b8808e709d409f1100251374528bf09684e24af50af1c313cafe602521d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

각 Node 안쪽에 Kube-proxy가 위치한것을 볼 수 있다.

### Kube-Proxy란

K8s에서 Network를 담당하는 컴포넌트이다.

각 Node에 Proxy가 하나씩 있고, DaemonSet형태로 Kubernetes에 존재한다.

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/5523f286-c968-486e-bca5-1b7149e1bab4/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZQT26UE5%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T072145Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAcaCXVzLXdlc3QtMiJGMEQCIBcQvrARSrAg8qXffSpTgYo14uIywMQoNmNvTqGmg%2B9wAiBP0IMLGJUGuYwug%2B3LY7LKDHlq6ABOpJSm484wtbUUhSr%2FAwhAEAAaDDYzNzQyMzE4MzgwNSIMkjL4r1%2BHkCSjKbpPKtwDjP4GaGueHMB4gqX49SxXquvA0RhHtMUn8ftmU89%2BceiO1ZEajV7GzamIOTPN%2FQOblxjirzXGalr8e6lAf7OvG%2BRQbsHY%2F2ih3UOvi8XFfaf5SsYD6GKiiNyGkWqoDd8j4PVXFo3UoDpPn9ripR7fCd5WVvTORZz5NluJe5yft84AGbyPilxeIbFiob2gdqz2yIcNDL5czP7YMNicN1Ip2TLSpGf6wDKfJTD%2Fc%2FuxA0bllLge16Y07ZTzdtKNC%2BzWAZU352fPkbVsNalkhi7v7HHSaPsS2JSa2mc1LhxKsezS8AqvdjVOLmHYARgUuKy%2F%2Fj%2FEdysZ%2F1qGtFcWFG7bVOsUtAVNT3gYUOALrvCh1oBSCLbheGM9gUKBsC6Oye5D5Bg8u7owYvK389rZmSM8CaDVK%2FY6Q7NQ2oK5Qbs2r3Zd1x0wSCQk6OqbPXqpvVcTQfOXXf9ipvbmi5DfFPj7ujLtw%2Fgzd%2BKmGkFtoO5U%2Fxq%2BIki%2FYrbOhxqaRH2UYSkkj0U8QTHbQwYX6u%2BSI0By5pPYjPxcz8EubfyIVNryIsBahEkBzt5rALCBDxMsxkG6ZUNhDV513wXXFHhq%2FgHdDFzvqlMP30M%2BLnUSB5adLaUeX74AvbBKvo2KYlgwgLfBxAY6pgEinLsNC%2BEusf%2BYNDTp0bju4HQnCqrjCMkquxbOa4bNIoYQX0Qbi2c8oIf2M9GWG7JAvLQ4FmjpVM2tuhPQ%2B%2BZO%2Fu7%2FMQIvF67Q4DtnnzdTKEf8rHfJfU3OzAJysgd%2FlgmCHLU3eyqBhAuHkmwuY6%2FKt7EBHW51rjs0Zqk0GjJVYKvQwrssGa%2FvLqDhPZiwsasVWcgF62WGUuvnrLV8eIYPWEfCQ8S8&X-Amz-Signature=035015c3cedc8aaf0631e16bf85fa66631801f5d7af6478c7641497e5bd5dd8d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/7d447a12-8224-41fc-b731-32344196224a/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZQT26UE5%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T072145Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAcaCXVzLXdlc3QtMiJGMEQCIBcQvrARSrAg8qXffSpTgYo14uIywMQoNmNvTqGmg%2B9wAiBP0IMLGJUGuYwug%2B3LY7LKDHlq6ABOpJSm484wtbUUhSr%2FAwhAEAAaDDYzNzQyMzE4MzgwNSIMkjL4r1%2BHkCSjKbpPKtwDjP4GaGueHMB4gqX49SxXquvA0RhHtMUn8ftmU89%2BceiO1ZEajV7GzamIOTPN%2FQOblxjirzXGalr8e6lAf7OvG%2BRQbsHY%2F2ih3UOvi8XFfaf5SsYD6GKiiNyGkWqoDd8j4PVXFo3UoDpPn9ripR7fCd5WVvTORZz5NluJe5yft84AGbyPilxeIbFiob2gdqz2yIcNDL5czP7YMNicN1Ip2TLSpGf6wDKfJTD%2Fc%2FuxA0bllLge16Y07ZTzdtKNC%2BzWAZU352fPkbVsNalkhi7v7HHSaPsS2JSa2mc1LhxKsezS8AqvdjVOLmHYARgUuKy%2F%2Fj%2FEdysZ%2F1qGtFcWFG7bVOsUtAVNT3gYUOALrvCh1oBSCLbheGM9gUKBsC6Oye5D5Bg8u7owYvK389rZmSM8CaDVK%2FY6Q7NQ2oK5Qbs2r3Zd1x0wSCQk6OqbPXqpvVcTQfOXXf9ipvbmi5DfFPj7ujLtw%2Fgzd%2BKmGkFtoO5U%2Fxq%2BIki%2FYrbOhxqaRH2UYSkkj0U8QTHbQwYX6u%2BSI0By5pPYjPxcz8EubfyIVNryIsBahEkBzt5rALCBDxMsxkG6ZUNhDV513wXXFHhq%2FgHdDFzvqlMP30M%2BLnUSB5adLaUeX74AvbBKvo2KYlgwgLfBxAY6pgEinLsNC%2BEusf%2BYNDTp0bju4HQnCqrjCMkquxbOa4bNIoYQX0Qbi2c8oIf2M9GWG7JAvLQ4FmjpVM2tuhPQ%2B%2BZO%2Fu7%2FMQIvF67Q4DtnnzdTKEf8rHfJfU3OzAJysgd%2FlgmCHLU3eyqBhAuHkmwuY6%2FKt7EBHW51rjs0Zqk0GjJVYKvQwrssGa%2FvLqDhPZiwsasVWcgF62WGUuvnrLV8eIYPWEfCQ8S8&X-Amz-Signature=caebe2c1fa6c21add9e5eb35f0e818bc0d2989f9937a3e6a2674c0b51b5c2e72&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

클라이언트(사용)가 쿠버네티스 API로 정의한 서비스에 연결할 수 있도록 해주는 역할을 한다. 서비스의 IP와 Port로 들어온 접속을 서비스를 지원하는 POD중 하나로 연결해 준다.

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/dcc268b3-5716-45ac-bf0b-63631615eda6/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZQT26UE5%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T072145Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAcaCXVzLXdlc3QtMiJGMEQCIBcQvrARSrAg8qXffSpTgYo14uIywMQoNmNvTqGmg%2B9wAiBP0IMLGJUGuYwug%2B3LY7LKDHlq6ABOpJSm484wtbUUhSr%2FAwhAEAAaDDYzNzQyMzE4MzgwNSIMkjL4r1%2BHkCSjKbpPKtwDjP4GaGueHMB4gqX49SxXquvA0RhHtMUn8ftmU89%2BceiO1ZEajV7GzamIOTPN%2FQOblxjirzXGalr8e6lAf7OvG%2BRQbsHY%2F2ih3UOvi8XFfaf5SsYD6GKiiNyGkWqoDd8j4PVXFo3UoDpPn9ripR7fCd5WVvTORZz5NluJe5yft84AGbyPilxeIbFiob2gdqz2yIcNDL5czP7YMNicN1Ip2TLSpGf6wDKfJTD%2Fc%2FuxA0bllLge16Y07ZTzdtKNC%2BzWAZU352fPkbVsNalkhi7v7HHSaPsS2JSa2mc1LhxKsezS8AqvdjVOLmHYARgUuKy%2F%2Fj%2FEdysZ%2F1qGtFcWFG7bVOsUtAVNT3gYUOALrvCh1oBSCLbheGM9gUKBsC6Oye5D5Bg8u7owYvK389rZmSM8CaDVK%2FY6Q7NQ2oK5Qbs2r3Zd1x0wSCQk6OqbPXqpvVcTQfOXXf9ipvbmi5DfFPj7ujLtw%2Fgzd%2BKmGkFtoO5U%2Fxq%2BIki%2FYrbOhxqaRH2UYSkkj0U8QTHbQwYX6u%2BSI0By5pPYjPxcz8EubfyIVNryIsBahEkBzt5rALCBDxMsxkG6ZUNhDV513wXXFHhq%2FgHdDFzvqlMP30M%2BLnUSB5adLaUeX74AvbBKvo2KYlgwgLfBxAY6pgEinLsNC%2BEusf%2BYNDTp0bju4HQnCqrjCMkquxbOa4bNIoYQX0Qbi2c8oIf2M9GWG7JAvLQ4FmjpVM2tuhPQ%2B%2BZO%2Fu7%2FMQIvF67Q4DtnnzdTKEf8rHfJfU3OzAJysgd%2FlgmCHLU3eyqBhAuHkmwuY6%2FKt7EBHW51rjs0Zqk0GjJVYKvQwrssGa%2FvLqDhPZiwsasVWcgF62WGUuvnrLV8eIYPWEfCQ8S8&X-Amz-Signature=a6f644391afa8d358a6a0345b4813a96d2ff72d1fb6b999a8387de4c3a2a9156&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

커널 iptables를 활용하여 연결한다.

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/6019cdb1-f915-4906-990b-fe49a1f5b1b0/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZQT26UE5%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T072144Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAcaCXVzLXdlc3QtMiJGMEQCIBcQvrARSrAg8qXffSpTgYo14uIywMQoNmNvTqGmg%2B9wAiBP0IMLGJUGuYwug%2B3LY7LKDHlq6ABOpJSm484wtbUUhSr%2FAwhAEAAaDDYzNzQyMzE4MzgwNSIMkjL4r1%2BHkCSjKbpPKtwDjP4GaGueHMB4gqX49SxXquvA0RhHtMUn8ftmU89%2BceiO1ZEajV7GzamIOTPN%2FQOblxjirzXGalr8e6lAf7OvG%2BRQbsHY%2F2ih3UOvi8XFfaf5SsYD6GKiiNyGkWqoDd8j4PVXFo3UoDpPn9ripR7fCd5WVvTORZz5NluJe5yft84AGbyPilxeIbFiob2gdqz2yIcNDL5czP7YMNicN1Ip2TLSpGf6wDKfJTD%2Fc%2FuxA0bllLge16Y07ZTzdtKNC%2BzWAZU352fPkbVsNalkhi7v7HHSaPsS2JSa2mc1LhxKsezS8AqvdjVOLmHYARgUuKy%2F%2Fj%2FEdysZ%2F1qGtFcWFG7bVOsUtAVNT3gYUOALrvCh1oBSCLbheGM9gUKBsC6Oye5D5Bg8u7owYvK389rZmSM8CaDVK%2FY6Q7NQ2oK5Qbs2r3Zd1x0wSCQk6OqbPXqpvVcTQfOXXf9ipvbmi5DfFPj7ujLtw%2Fgzd%2BKmGkFtoO5U%2Fxq%2BIki%2FYrbOhxqaRH2UYSkkj0U8QTHbQwYX6u%2BSI0By5pPYjPxcz8EubfyIVNryIsBahEkBzt5rALCBDxMsxkG6ZUNhDV513wXXFHhq%2FgHdDFzvqlMP30M%2BLnUSB5adLaUeX74AvbBKvo2KYlgwgLfBxAY6pgEinLsNC%2BEusf%2BYNDTp0bju4HQnCqrjCMkquxbOa4bNIoYQX0Qbi2c8oIf2M9GWG7JAvLQ4FmjpVM2tuhPQ%2B%2BZO%2Fu7%2FMQIvF67Q4DtnnzdTKEf8rHfJfU3OzAJysgd%2FlgmCHLU3eyqBhAuHkmwuY6%2FKt7EBHW51rjs0Zqk0GjJVYKvQwrssGa%2FvLqDhPZiwsasVWcgF62WGUuvnrLV8eIYPWEfCQ8S8&X-Amz-Signature=eee609dd2f54ddd760a2bcdb78037d2c737c33d48a25de02b14c4ba2237f42f0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


