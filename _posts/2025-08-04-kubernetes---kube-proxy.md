---
title: "Kubernetes - Kube-Proxy"
date: 2025-08-04 06:05:00 +0900
categories: [kubernetes]
tags: [Kubernetes]
description: Kubernetes 기초
toc: true
comments: true
---

# Kube Proxy

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/09fe6073-4730-4f06-b1f3-ec4d1c892eb3/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UHNSXQ2G%2F20250805%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250805T002658Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBcaCXVzLXdlc3QtMiJIMEYCIQD5%2BucBIxK4ElGSCopOPiejvoqynUOx0viv1epvHcGYJQIhAK0UVLD8sItCyhItX1lGHJxsywQbdSJMA%2Bad8%2FXRfgPkKv8DCFAQABoMNjM3NDIzMTgzODA1Igxlt0T2egDEelp0baAq3APrM8R0Y0Ups8vE3X3EeZ5vbegQA%2FZyveWweeBhuJxSpk%2FiBLzN3IPb5hf0rFrIoaKffpA4RDiD1YP%2BYWNWMggkjrOiiXMTos%2Fl4MLGzNeka93yOJT%2FMogmgDeCEVEykxH7YkrDXbEpSpFR5uw500Q1OiOyLu0Q4RUHoAywfkHiM%2FFN0e5%2Bah6y0AaOJew0X6yNg4va0Zd0hY%2FrQiWU%2Fiy5H78F%2Fr9tFjZho9Hjos0kc2zlo7k564eLmUOs0FRLAd%2B6fOH9quET0Fc6cDPA8X5NogrTipvySdcZnHCaFbkFFLtkl4EH%2FbCHaeTcTr2vjeyZnTFcTYrLqkQr%2BU7fyK2TEOAHi7pMFMgS%2BuBwSvCOxPVRnSZBcivOt5%2Bg3FjpGLAxBfB7xfOuoiFkAUg8nZACgV4AsS0CurLl%2ByBOM2Y%2BYcwI7i5IpIbg2bm1jmbmrvgKaFomt0Uxl3AwE5A%2BzXprAP918DHK%2BbFLMPrTgSpVjbb5p%2BN%2FVdBWilLPi3trWru4kfQRUvNyyo%2Bjcj49otI4i37w3F5awu0KQQ7bJeFZmc22NSHdfVZroapUMaMs0sogOd4Eb4D2R9p%2B20WtH5d%2BdH4kM4qlVUNmBshNZkU7OPPF6h%2BgjgG440CG4TDj88TEBjqkAVRbhJ9rrptH0DDvgndxmw6omhfnsbJ0COoXhDWdo7LBKWwtoZs37LF2fuj9BIb1MGjYNQJ4qbLbOh4qVufu%2FUfJt4%2BwfkWvnyjhfPeIpDif2cu1Kwa9I6LHZBv6VeCHnkXy2r74yaUQe0wSCJ1hH8IDAJJPRmWs4%2FBQ5tDH7NRDgytlpEY%2F6mhEKDPj%2FL5ZIHk4y0yb7pRpce91p%2BrRds08MQG6&X-Amz-Signature=b2c88351eba183953b5a9b530712177e27277315e14258f7aa1a28a43f0a8734&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

각 Node 안쪽에 Kube-proxy가 위치한것을 볼 수 있다.

### Kube-Proxy란

K8s에서 Network를 담당하는 컴포넌트이다.

각 Node에 Proxy가 하나씩 있고, DaemonSet형태로 Kubernetes에 존재한다.

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/5523f286-c968-486e-bca5-1b7149e1bab4/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UHNSXQ2G%2F20250805%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250805T002658Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBcaCXVzLXdlc3QtMiJIMEYCIQD5%2BucBIxK4ElGSCopOPiejvoqynUOx0viv1epvHcGYJQIhAK0UVLD8sItCyhItX1lGHJxsywQbdSJMA%2Bad8%2FXRfgPkKv8DCFAQABoMNjM3NDIzMTgzODA1Igxlt0T2egDEelp0baAq3APrM8R0Y0Ups8vE3X3EeZ5vbegQA%2FZyveWweeBhuJxSpk%2FiBLzN3IPb5hf0rFrIoaKffpA4RDiD1YP%2BYWNWMggkjrOiiXMTos%2Fl4MLGzNeka93yOJT%2FMogmgDeCEVEykxH7YkrDXbEpSpFR5uw500Q1OiOyLu0Q4RUHoAywfkHiM%2FFN0e5%2Bah6y0AaOJew0X6yNg4va0Zd0hY%2FrQiWU%2Fiy5H78F%2Fr9tFjZho9Hjos0kc2zlo7k564eLmUOs0FRLAd%2B6fOH9quET0Fc6cDPA8X5NogrTipvySdcZnHCaFbkFFLtkl4EH%2FbCHaeTcTr2vjeyZnTFcTYrLqkQr%2BU7fyK2TEOAHi7pMFMgS%2BuBwSvCOxPVRnSZBcivOt5%2Bg3FjpGLAxBfB7xfOuoiFkAUg8nZACgV4AsS0CurLl%2ByBOM2Y%2BYcwI7i5IpIbg2bm1jmbmrvgKaFomt0Uxl3AwE5A%2BzXprAP918DHK%2BbFLMPrTgSpVjbb5p%2BN%2FVdBWilLPi3trWru4kfQRUvNyyo%2Bjcj49otI4i37w3F5awu0KQQ7bJeFZmc22NSHdfVZroapUMaMs0sogOd4Eb4D2R9p%2B20WtH5d%2BdH4kM4qlVUNmBshNZkU7OPPF6h%2BgjgG440CG4TDj88TEBjqkAVRbhJ9rrptH0DDvgndxmw6omhfnsbJ0COoXhDWdo7LBKWwtoZs37LF2fuj9BIb1MGjYNQJ4qbLbOh4qVufu%2FUfJt4%2BwfkWvnyjhfPeIpDif2cu1Kwa9I6LHZBv6VeCHnkXy2r74yaUQe0wSCJ1hH8IDAJJPRmWs4%2FBQ5tDH7NRDgytlpEY%2F6mhEKDPj%2FL5ZIHk4y0yb7pRpce91p%2BrRds08MQG6&X-Amz-Signature=5846e7c1f96a8c85c4bac8a242b3de9962e7652c592dc35aa43f98281cec3fd0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/7d447a12-8224-41fc-b731-32344196224a/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UHNSXQ2G%2F20250805%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250805T002658Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBcaCXVzLXdlc3QtMiJIMEYCIQD5%2BucBIxK4ElGSCopOPiejvoqynUOx0viv1epvHcGYJQIhAK0UVLD8sItCyhItX1lGHJxsywQbdSJMA%2Bad8%2FXRfgPkKv8DCFAQABoMNjM3NDIzMTgzODA1Igxlt0T2egDEelp0baAq3APrM8R0Y0Ups8vE3X3EeZ5vbegQA%2FZyveWweeBhuJxSpk%2FiBLzN3IPb5hf0rFrIoaKffpA4RDiD1YP%2BYWNWMggkjrOiiXMTos%2Fl4MLGzNeka93yOJT%2FMogmgDeCEVEykxH7YkrDXbEpSpFR5uw500Q1OiOyLu0Q4RUHoAywfkHiM%2FFN0e5%2Bah6y0AaOJew0X6yNg4va0Zd0hY%2FrQiWU%2Fiy5H78F%2Fr9tFjZho9Hjos0kc2zlo7k564eLmUOs0FRLAd%2B6fOH9quET0Fc6cDPA8X5NogrTipvySdcZnHCaFbkFFLtkl4EH%2FbCHaeTcTr2vjeyZnTFcTYrLqkQr%2BU7fyK2TEOAHi7pMFMgS%2BuBwSvCOxPVRnSZBcivOt5%2Bg3FjpGLAxBfB7xfOuoiFkAUg8nZACgV4AsS0CurLl%2ByBOM2Y%2BYcwI7i5IpIbg2bm1jmbmrvgKaFomt0Uxl3AwE5A%2BzXprAP918DHK%2BbFLMPrTgSpVjbb5p%2BN%2FVdBWilLPi3trWru4kfQRUvNyyo%2Bjcj49otI4i37w3F5awu0KQQ7bJeFZmc22NSHdfVZroapUMaMs0sogOd4Eb4D2R9p%2B20WtH5d%2BdH4kM4qlVUNmBshNZkU7OPPF6h%2BgjgG440CG4TDj88TEBjqkAVRbhJ9rrptH0DDvgndxmw6omhfnsbJ0COoXhDWdo7LBKWwtoZs37LF2fuj9BIb1MGjYNQJ4qbLbOh4qVufu%2FUfJt4%2BwfkWvnyjhfPeIpDif2cu1Kwa9I6LHZBv6VeCHnkXy2r74yaUQe0wSCJ1hH8IDAJJPRmWs4%2FBQ5tDH7NRDgytlpEY%2F6mhEKDPj%2FL5ZIHk4y0yb7pRpce91p%2BrRds08MQG6&X-Amz-Signature=1cdd0ac1af2746bb9d67410906f45a3af1c7470377e42408668568ed05473596&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

클라이언트(사용)가 쿠버네티스 API로 정의한 서비스에 연결할 수 있도록 해주는 역할을 한다. 서비스의 IP와 Port로 들어온 접속을 서비스를 지원하는 POD중 하나로 연결해 준다.

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/dcc268b3-5716-45ac-bf0b-63631615eda6/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UHNSXQ2G%2F20250805%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250805T002658Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBcaCXVzLXdlc3QtMiJIMEYCIQD5%2BucBIxK4ElGSCopOPiejvoqynUOx0viv1epvHcGYJQIhAK0UVLD8sItCyhItX1lGHJxsywQbdSJMA%2Bad8%2FXRfgPkKv8DCFAQABoMNjM3NDIzMTgzODA1Igxlt0T2egDEelp0baAq3APrM8R0Y0Ups8vE3X3EeZ5vbegQA%2FZyveWweeBhuJxSpk%2FiBLzN3IPb5hf0rFrIoaKffpA4RDiD1YP%2BYWNWMggkjrOiiXMTos%2Fl4MLGzNeka93yOJT%2FMogmgDeCEVEykxH7YkrDXbEpSpFR5uw500Q1OiOyLu0Q4RUHoAywfkHiM%2FFN0e5%2Bah6y0AaOJew0X6yNg4va0Zd0hY%2FrQiWU%2Fiy5H78F%2Fr9tFjZho9Hjos0kc2zlo7k564eLmUOs0FRLAd%2B6fOH9quET0Fc6cDPA8X5NogrTipvySdcZnHCaFbkFFLtkl4EH%2FbCHaeTcTr2vjeyZnTFcTYrLqkQr%2BU7fyK2TEOAHi7pMFMgS%2BuBwSvCOxPVRnSZBcivOt5%2Bg3FjpGLAxBfB7xfOuoiFkAUg8nZACgV4AsS0CurLl%2ByBOM2Y%2BYcwI7i5IpIbg2bm1jmbmrvgKaFomt0Uxl3AwE5A%2BzXprAP918DHK%2BbFLMPrTgSpVjbb5p%2BN%2FVdBWilLPi3trWru4kfQRUvNyyo%2Bjcj49otI4i37w3F5awu0KQQ7bJeFZmc22NSHdfVZroapUMaMs0sogOd4Eb4D2R9p%2B20WtH5d%2BdH4kM4qlVUNmBshNZkU7OPPF6h%2BgjgG440CG4TDj88TEBjqkAVRbhJ9rrptH0DDvgndxmw6omhfnsbJ0COoXhDWdo7LBKWwtoZs37LF2fuj9BIb1MGjYNQJ4qbLbOh4qVufu%2FUfJt4%2BwfkWvnyjhfPeIpDif2cu1Kwa9I6LHZBv6VeCHnkXy2r74yaUQe0wSCJ1hH8IDAJJPRmWs4%2FBQ5tDH7NRDgytlpEY%2F6mhEKDPj%2FL5ZIHk4y0yb7pRpce91p%2BrRds08MQG6&X-Amz-Signature=7c855a20107b124330f8afdc5468f7b511695d5065421b681d61825c848b0fcd&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

커널 iptables를 활용하여 연결한다.

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/6019cdb1-f915-4906-990b-fe49a1f5b1b0/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UHNSXQ2G%2F20250805%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250805T002658Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBcaCXVzLXdlc3QtMiJIMEYCIQD5%2BucBIxK4ElGSCopOPiejvoqynUOx0viv1epvHcGYJQIhAK0UVLD8sItCyhItX1lGHJxsywQbdSJMA%2Bad8%2FXRfgPkKv8DCFAQABoMNjM3NDIzMTgzODA1Igxlt0T2egDEelp0baAq3APrM8R0Y0Ups8vE3X3EeZ5vbegQA%2FZyveWweeBhuJxSpk%2FiBLzN3IPb5hf0rFrIoaKffpA4RDiD1YP%2BYWNWMggkjrOiiXMTos%2Fl4MLGzNeka93yOJT%2FMogmgDeCEVEykxH7YkrDXbEpSpFR5uw500Q1OiOyLu0Q4RUHoAywfkHiM%2FFN0e5%2Bah6y0AaOJew0X6yNg4va0Zd0hY%2FrQiWU%2Fiy5H78F%2Fr9tFjZho9Hjos0kc2zlo7k564eLmUOs0FRLAd%2B6fOH9quET0Fc6cDPA8X5NogrTipvySdcZnHCaFbkFFLtkl4EH%2FbCHaeTcTr2vjeyZnTFcTYrLqkQr%2BU7fyK2TEOAHi7pMFMgS%2BuBwSvCOxPVRnSZBcivOt5%2Bg3FjpGLAxBfB7xfOuoiFkAUg8nZACgV4AsS0CurLl%2ByBOM2Y%2BYcwI7i5IpIbg2bm1jmbmrvgKaFomt0Uxl3AwE5A%2BzXprAP918DHK%2BbFLMPrTgSpVjbb5p%2BN%2FVdBWilLPi3trWru4kfQRUvNyyo%2Bjcj49otI4i37w3F5awu0KQQ7bJeFZmc22NSHdfVZroapUMaMs0sogOd4Eb4D2R9p%2B20WtH5d%2BdH4kM4qlVUNmBshNZkU7OPPF6h%2BgjgG440CG4TDj88TEBjqkAVRbhJ9rrptH0DDvgndxmw6omhfnsbJ0COoXhDWdo7LBKWwtoZs37LF2fuj9BIb1MGjYNQJ4qbLbOh4qVufu%2FUfJt4%2BwfkWvnyjhfPeIpDif2cu1Kwa9I6LHZBv6VeCHnkXy2r74yaUQe0wSCJ1hH8IDAJJPRmWs4%2FBQ5tDH7NRDgytlpEY%2F6mhEKDPj%2FL5ZIHk4y0yb7pRpce91p%2BrRds08MQG6&X-Amz-Signature=076124d7c15fe51c26bc4005e4f340e3eaff2bf73abc899b9170ae0468522485&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


