---
title: "Kubernetes - Kube-Proxy"
date: 2025-08-04 06:05:00 +0900
categories: [kubernetes]
tags: [Kubernetes]
description: Kubernetes 기초
toc: true
comments: true
---

# Kube Proxy

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/09fe6073-4730-4f06-b1f3-ec4d1c892eb3/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UEJW3JAC%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T064857Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAYaCXVzLXdlc3QtMiJIMEYCIQCwtzmek0YsS2ZZTVITOxqV6amUwADOYyDyUBrFWOvq%2BwIhALV80Oc9FSXzIN7jKpnPk%2F1cHIhfP0mRmT0l0fdiNsGXKv8DCD8QABoMNjM3NDIzMTgzODA1Igz3xqWOICWxUX0%2B8ekq3AOWAjn0iCtnnbQaTy%2Fya5KFTnjox3SMmik6a%2FEpa7NYsOdvjUsXB28bjAXJTvK2SuoEm%2FngT3vgKh0GRWhi5NXguYxsiyPsGFhTurtQPm%2BNZ4HD90ddUf7HBpu89lM5kcWm55ROgoRyt67VJpBvMKCKDMaICWUO9xNpTfBSPCr8alVIlc0KQw2570z7g5W2lSsG5Vwvk0jUjB0TWLE7VDA%2B9Vy1wDyvC1RYxn7HtXSolwx6usIbVEmOcv03ZKC5vgCX7DZUnpKj3GjAxLurX3XbcMXcsa%2BkCv4na1M0ZsCAcwlwOxsNICuPBWCsyJL6ldHrNSIZBcq%2F3E0WB3McgY0M1YwslwY%2Frn9nT7551fMEqB%2FcILkebjbakGotjhUDPtBamEe6ZaREzA1SJ1vhKJZtFvNzIIr5D6SveclvzqjP%2FA2jioApLT7ziYWC1RRzlxda%2BmjbF54Tn5pFR6jO2R8m61KCCL%2B056bESlYyMbIWdh0I7M%2FQXVXK8CkhvzOONefyLXfw4TNGDQgnNPN6zg8cyb6VbiBD8sxjxeHGmVWe08lAj7pNx0B3OlQuU57CwJp2Ki%2F8KsWgYlWKrM0rDlInlDIzw5KhRGm6nC1gbG3xQREwwf6D5qT38sN%2BTzCUjcHEBjqkAUJN8%2BnwxBSkqGNE2NatBa2mNbQpF4V9fCvWqGz7TXjKaPh57MB%2B2USiM4wzfbmhAgcciF867nwSAzAMR5w099oCI%2BM43ttnVbHInsCwT49uPqpL5oVaKCXy1QT1yQizSCchVYZU8GTKEcTo%2FwgGrOcx4AmKnYq%2Fd7aE5Mrx1KVG2c59LVczcht7hlEJVxWbTDigOVjs%2FvV8jqViwzwv4JGhTrAv&X-Amz-Signature=178dd23348eb9c0d00dd4ee0d75a992afaec36fa6772ca8a8355770189d667f0&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

각 Node 안쪽에 Kube-proxy가 위치한것을 볼 수 있다.

### Kube-Proxy란

K8s에서 Network를 담당하는 컴포넌트이다.

각 Node에 Proxy가 하나씩 있고, DaemonSet형태로 Kubernetes에 존재한다.

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/5523f286-c968-486e-bca5-1b7149e1bab4/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UEJW3JAC%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T064857Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAYaCXVzLXdlc3QtMiJIMEYCIQCwtzmek0YsS2ZZTVITOxqV6amUwADOYyDyUBrFWOvq%2BwIhALV80Oc9FSXzIN7jKpnPk%2F1cHIhfP0mRmT0l0fdiNsGXKv8DCD8QABoMNjM3NDIzMTgzODA1Igz3xqWOICWxUX0%2B8ekq3AOWAjn0iCtnnbQaTy%2Fya5KFTnjox3SMmik6a%2FEpa7NYsOdvjUsXB28bjAXJTvK2SuoEm%2FngT3vgKh0GRWhi5NXguYxsiyPsGFhTurtQPm%2BNZ4HD90ddUf7HBpu89lM5kcWm55ROgoRyt67VJpBvMKCKDMaICWUO9xNpTfBSPCr8alVIlc0KQw2570z7g5W2lSsG5Vwvk0jUjB0TWLE7VDA%2B9Vy1wDyvC1RYxn7HtXSolwx6usIbVEmOcv03ZKC5vgCX7DZUnpKj3GjAxLurX3XbcMXcsa%2BkCv4na1M0ZsCAcwlwOxsNICuPBWCsyJL6ldHrNSIZBcq%2F3E0WB3McgY0M1YwslwY%2Frn9nT7551fMEqB%2FcILkebjbakGotjhUDPtBamEe6ZaREzA1SJ1vhKJZtFvNzIIr5D6SveclvzqjP%2FA2jioApLT7ziYWC1RRzlxda%2BmjbF54Tn5pFR6jO2R8m61KCCL%2B056bESlYyMbIWdh0I7M%2FQXVXK8CkhvzOONefyLXfw4TNGDQgnNPN6zg8cyb6VbiBD8sxjxeHGmVWe08lAj7pNx0B3OlQuU57CwJp2Ki%2F8KsWgYlWKrM0rDlInlDIzw5KhRGm6nC1gbG3xQREwwf6D5qT38sN%2BTzCUjcHEBjqkAUJN8%2BnwxBSkqGNE2NatBa2mNbQpF4V9fCvWqGz7TXjKaPh57MB%2B2USiM4wzfbmhAgcciF867nwSAzAMR5w099oCI%2BM43ttnVbHInsCwT49uPqpL5oVaKCXy1QT1yQizSCchVYZU8GTKEcTo%2FwgGrOcx4AmKnYq%2Fd7aE5Mrx1KVG2c59LVczcht7hlEJVxWbTDigOVjs%2FvV8jqViwzwv4JGhTrAv&X-Amz-Signature=0a475ef4f66ee50a095e88c28bdd8747c53406ad08a46acc0f055fc26fb30834&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/7d447a12-8224-41fc-b731-32344196224a/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UEJW3JAC%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T064857Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAYaCXVzLXdlc3QtMiJIMEYCIQCwtzmek0YsS2ZZTVITOxqV6amUwADOYyDyUBrFWOvq%2BwIhALV80Oc9FSXzIN7jKpnPk%2F1cHIhfP0mRmT0l0fdiNsGXKv8DCD8QABoMNjM3NDIzMTgzODA1Igz3xqWOICWxUX0%2B8ekq3AOWAjn0iCtnnbQaTy%2Fya5KFTnjox3SMmik6a%2FEpa7NYsOdvjUsXB28bjAXJTvK2SuoEm%2FngT3vgKh0GRWhi5NXguYxsiyPsGFhTurtQPm%2BNZ4HD90ddUf7HBpu89lM5kcWm55ROgoRyt67VJpBvMKCKDMaICWUO9xNpTfBSPCr8alVIlc0KQw2570z7g5W2lSsG5Vwvk0jUjB0TWLE7VDA%2B9Vy1wDyvC1RYxn7HtXSolwx6usIbVEmOcv03ZKC5vgCX7DZUnpKj3GjAxLurX3XbcMXcsa%2BkCv4na1M0ZsCAcwlwOxsNICuPBWCsyJL6ldHrNSIZBcq%2F3E0WB3McgY0M1YwslwY%2Frn9nT7551fMEqB%2FcILkebjbakGotjhUDPtBamEe6ZaREzA1SJ1vhKJZtFvNzIIr5D6SveclvzqjP%2FA2jioApLT7ziYWC1RRzlxda%2BmjbF54Tn5pFR6jO2R8m61KCCL%2B056bESlYyMbIWdh0I7M%2FQXVXK8CkhvzOONefyLXfw4TNGDQgnNPN6zg8cyb6VbiBD8sxjxeHGmVWe08lAj7pNx0B3OlQuU57CwJp2Ki%2F8KsWgYlWKrM0rDlInlDIzw5KhRGm6nC1gbG3xQREwwf6D5qT38sN%2BTzCUjcHEBjqkAUJN8%2BnwxBSkqGNE2NatBa2mNbQpF4V9fCvWqGz7TXjKaPh57MB%2B2USiM4wzfbmhAgcciF867nwSAzAMR5w099oCI%2BM43ttnVbHInsCwT49uPqpL5oVaKCXy1QT1yQizSCchVYZU8GTKEcTo%2FwgGrOcx4AmKnYq%2Fd7aE5Mrx1KVG2c59LVczcht7hlEJVxWbTDigOVjs%2FvV8jqViwzwv4JGhTrAv&X-Amz-Signature=f2adb1ea6fdb3c313b75738188e528e2147eedad56596814773f8f2957f647e9&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

클라이언트(사용)가 쿠버네티스 API로 정의한 서비스에 연결할 수 있도록 해주는 역할을 한다. 서비스의 IP와 Port로 들어온 접속을 서비스를 지원하는 POD중 하나로 연결해 준다.

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/dcc268b3-5716-45ac-bf0b-63631615eda6/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UEJW3JAC%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T064857Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAYaCXVzLXdlc3QtMiJIMEYCIQCwtzmek0YsS2ZZTVITOxqV6amUwADOYyDyUBrFWOvq%2BwIhALV80Oc9FSXzIN7jKpnPk%2F1cHIhfP0mRmT0l0fdiNsGXKv8DCD8QABoMNjM3NDIzMTgzODA1Igz3xqWOICWxUX0%2B8ekq3AOWAjn0iCtnnbQaTy%2Fya5KFTnjox3SMmik6a%2FEpa7NYsOdvjUsXB28bjAXJTvK2SuoEm%2FngT3vgKh0GRWhi5NXguYxsiyPsGFhTurtQPm%2BNZ4HD90ddUf7HBpu89lM5kcWm55ROgoRyt67VJpBvMKCKDMaICWUO9xNpTfBSPCr8alVIlc0KQw2570z7g5W2lSsG5Vwvk0jUjB0TWLE7VDA%2B9Vy1wDyvC1RYxn7HtXSolwx6usIbVEmOcv03ZKC5vgCX7DZUnpKj3GjAxLurX3XbcMXcsa%2BkCv4na1M0ZsCAcwlwOxsNICuPBWCsyJL6ldHrNSIZBcq%2F3E0WB3McgY0M1YwslwY%2Frn9nT7551fMEqB%2FcILkebjbakGotjhUDPtBamEe6ZaREzA1SJ1vhKJZtFvNzIIr5D6SveclvzqjP%2FA2jioApLT7ziYWC1RRzlxda%2BmjbF54Tn5pFR6jO2R8m61KCCL%2B056bESlYyMbIWdh0I7M%2FQXVXK8CkhvzOONefyLXfw4TNGDQgnNPN6zg8cyb6VbiBD8sxjxeHGmVWe08lAj7pNx0B3OlQuU57CwJp2Ki%2F8KsWgYlWKrM0rDlInlDIzw5KhRGm6nC1gbG3xQREwwf6D5qT38sN%2BTzCUjcHEBjqkAUJN8%2BnwxBSkqGNE2NatBa2mNbQpF4V9fCvWqGz7TXjKaPh57MB%2B2USiM4wzfbmhAgcciF867nwSAzAMR5w099oCI%2BM43ttnVbHInsCwT49uPqpL5oVaKCXy1QT1yQizSCchVYZU8GTKEcTo%2FwgGrOcx4AmKnYq%2Fd7aE5Mrx1KVG2c59LVczcht7hlEJVxWbTDigOVjs%2FvV8jqViwzwv4JGhTrAv&X-Amz-Signature=aca19bca2a21436a0bc0837250baf378173f661d2a9bf0dec20f310dd582efb8&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

커널 iptables를 활용하여 연결한다.

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/6019cdb1-f915-4906-990b-fe49a1f5b1b0/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466UEJW3JAC%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T064857Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAYaCXVzLXdlc3QtMiJIMEYCIQCwtzmek0YsS2ZZTVITOxqV6amUwADOYyDyUBrFWOvq%2BwIhALV80Oc9FSXzIN7jKpnPk%2F1cHIhfP0mRmT0l0fdiNsGXKv8DCD8QABoMNjM3NDIzMTgzODA1Igz3xqWOICWxUX0%2B8ekq3AOWAjn0iCtnnbQaTy%2Fya5KFTnjox3SMmik6a%2FEpa7NYsOdvjUsXB28bjAXJTvK2SuoEm%2FngT3vgKh0GRWhi5NXguYxsiyPsGFhTurtQPm%2BNZ4HD90ddUf7HBpu89lM5kcWm55ROgoRyt67VJpBvMKCKDMaICWUO9xNpTfBSPCr8alVIlc0KQw2570z7g5W2lSsG5Vwvk0jUjB0TWLE7VDA%2B9Vy1wDyvC1RYxn7HtXSolwx6usIbVEmOcv03ZKC5vgCX7DZUnpKj3GjAxLurX3XbcMXcsa%2BkCv4na1M0ZsCAcwlwOxsNICuPBWCsyJL6ldHrNSIZBcq%2F3E0WB3McgY0M1YwslwY%2Frn9nT7551fMEqB%2FcILkebjbakGotjhUDPtBamEe6ZaREzA1SJ1vhKJZtFvNzIIr5D6SveclvzqjP%2FA2jioApLT7ziYWC1RRzlxda%2BmjbF54Tn5pFR6jO2R8m61KCCL%2B056bESlYyMbIWdh0I7M%2FQXVXK8CkhvzOONefyLXfw4TNGDQgnNPN6zg8cyb6VbiBD8sxjxeHGmVWe08lAj7pNx0B3OlQuU57CwJp2Ki%2F8KsWgYlWKrM0rDlInlDIzw5KhRGm6nC1gbG3xQREwwf6D5qT38sN%2BTzCUjcHEBjqkAUJN8%2BnwxBSkqGNE2NatBa2mNbQpF4V9fCvWqGz7TXjKaPh57MB%2B2USiM4wzfbmhAgcciF867nwSAzAMR5w099oCI%2BM43ttnVbHInsCwT49uPqpL5oVaKCXy1QT1yQizSCchVYZU8GTKEcTo%2FwgGrOcx4AmKnYq%2Fd7aE5Mrx1KVG2c59LVczcht7hlEJVxWbTDigOVjs%2FvV8jqViwzwv4JGhTrAv&X-Amz-Signature=6ae121602a74fb196d472dd1cf47a2c083df14ed5a4a26c30493029f7bb4155d&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


