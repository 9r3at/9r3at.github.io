---
title: "Kubernetes - Kube-Proxy"
date: 2025-08-04 06:05:00 +0900
categories: [kubernetes]
tags: [Kubernetes]
description: Kubernetes 기초
toc: true
comments: true
---

# Kube Proxy

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/09fe6073-4730-4f06-b1f3-ec4d1c892eb3/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666QFEXD2O%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T071410Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAcaCXVzLXdlc3QtMiJHMEUCIQCpvXvY%2FKrmKo5c8HXg3oB%2FqNU2o4gbKltc6EYZKU2BqwIgAWSC%2FRHGAdNWZEXgL5DSP3ZGS%2FFOS92417T4uViKuCIq%2FwMIQBAAGgw2Mzc0MjMxODM4MDUiDCEy%2B3s84VmQFuaQXCrcAzCvLKmvMgZVEgWhK0EIRvaylTNKZ4K%2FyM2Ok68hBfVD26mm9dSr8lQR8%2Bh4J76KZ9L%2Bnkjq%2FXPSJ4w7tVT1BAdRLZTojsclDJmUCaz0tlB3HbwmmzxErSPHtrEw1bE4luoBaDiYcwNE%2BxLnJJCb1%2FvMPXeSbIYk8FuhzDBG0%2BLk7BcPTZfzrmH2GX3mxZg0cP1kxhMlk7nNz5y5vO%2BgtR%2BawjqVhqvoZmK%2FHSRu8k8LJTps6YQVRWJLpSKi%2BSnEYzvuXshCE0NP5mNokuomVW61vUNu935EUR05nRmM3RiQ4MqdLONyuCQ13qYDd6HODcn%2Fx7ByqHxNq4%2FRRpGc9N2AqYUYkN003T7ylBR6SPLAnTbAqcOKq0DnoysxhOAAHUXsyguM7jv5UZuAY3Mzn1MY2dZ4BJhbdg0rP7Du4YOzNBetvwn%2FsCcyqdzWG%2BBWgDM%2FlGSz6or%2FAH%2FBREfHBJCAWtmWr27NeKGRSjKUQcvHF4SxiPYSNlrjbOfswGtzOu3KH2kU4er5xgoyKRCaMa%2BwDE3wi1FkoTzqdb9ZKuuIALV0z7CXie1YMTzVfP18VSj1z5MK5GERLacZ4Bgrh1LXa8ksJBwkRYzhBsOyqV9DlZ6nM2M%2FwCr9GXd9MIK4wcQGOqUBvaFnf7V%2F9c%2Bhjy8dJX%2FFmxOZc9Aq0Qu4W02M3Eh%2BbT5QOZFjYCqkmWGyR9oJx71E9Co3wIzJr6Hf2RhrTJehrRkkHqfFzOCRluTIVQPCqmg6f9Ht3FUYMvtjVkCjBCfYT%2BjiwpgHNUWaY%2F%2FQEMLXbaY8j%2BtvGgAGhYWtruWi4OaZiIP%2FVu%2FgY8Uj3YRK3yq1JRUqpYmfkg3DyOrA%2B1%2BnYhW%2FcsvT&X-Amz-Signature=76fff7a17ce8280dab88f7601b8ac53ad4ccf97eda1d98d1a55798d35e3d0f02&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

각 Node 안쪽에 Kube-proxy가 위치한것을 볼 수 있다.

### Kube-Proxy란

K8s에서 Network를 담당하는 컴포넌트이다.

각 Node에 Proxy가 하나씩 있고, DaemonSet형태로 Kubernetes에 존재한다.

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/5523f286-c968-486e-bca5-1b7149e1bab4/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666QFEXD2O%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T071410Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAcaCXVzLXdlc3QtMiJHMEUCIQCpvXvY%2FKrmKo5c8HXg3oB%2FqNU2o4gbKltc6EYZKU2BqwIgAWSC%2FRHGAdNWZEXgL5DSP3ZGS%2FFOS92417T4uViKuCIq%2FwMIQBAAGgw2Mzc0MjMxODM4MDUiDCEy%2B3s84VmQFuaQXCrcAzCvLKmvMgZVEgWhK0EIRvaylTNKZ4K%2FyM2Ok68hBfVD26mm9dSr8lQR8%2Bh4J76KZ9L%2Bnkjq%2FXPSJ4w7tVT1BAdRLZTojsclDJmUCaz0tlB3HbwmmzxErSPHtrEw1bE4luoBaDiYcwNE%2BxLnJJCb1%2FvMPXeSbIYk8FuhzDBG0%2BLk7BcPTZfzrmH2GX3mxZg0cP1kxhMlk7nNz5y5vO%2BgtR%2BawjqVhqvoZmK%2FHSRu8k8LJTps6YQVRWJLpSKi%2BSnEYzvuXshCE0NP5mNokuomVW61vUNu935EUR05nRmM3RiQ4MqdLONyuCQ13qYDd6HODcn%2Fx7ByqHxNq4%2FRRpGc9N2AqYUYkN003T7ylBR6SPLAnTbAqcOKq0DnoysxhOAAHUXsyguM7jv5UZuAY3Mzn1MY2dZ4BJhbdg0rP7Du4YOzNBetvwn%2FsCcyqdzWG%2BBWgDM%2FlGSz6or%2FAH%2FBREfHBJCAWtmWr27NeKGRSjKUQcvHF4SxiPYSNlrjbOfswGtzOu3KH2kU4er5xgoyKRCaMa%2BwDE3wi1FkoTzqdb9ZKuuIALV0z7CXie1YMTzVfP18VSj1z5MK5GERLacZ4Bgrh1LXa8ksJBwkRYzhBsOyqV9DlZ6nM2M%2FwCr9GXd9MIK4wcQGOqUBvaFnf7V%2F9c%2Bhjy8dJX%2FFmxOZc9Aq0Qu4W02M3Eh%2BbT5QOZFjYCqkmWGyR9oJx71E9Co3wIzJr6Hf2RhrTJehrRkkHqfFzOCRluTIVQPCqmg6f9Ht3FUYMvtjVkCjBCfYT%2BjiwpgHNUWaY%2F%2FQEMLXbaY8j%2BtvGgAGhYWtruWi4OaZiIP%2FVu%2FgY8Uj3YRK3yq1JRUqpYmfkg3DyOrA%2B1%2BnYhW%2FcsvT&X-Amz-Signature=05ec04df8bf82bedc60ebe8f08079d7bf6443f484dcaf0c04870641ef1492930&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/7d447a12-8224-41fc-b731-32344196224a/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666QFEXD2O%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T071410Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAcaCXVzLXdlc3QtMiJHMEUCIQCpvXvY%2FKrmKo5c8HXg3oB%2FqNU2o4gbKltc6EYZKU2BqwIgAWSC%2FRHGAdNWZEXgL5DSP3ZGS%2FFOS92417T4uViKuCIq%2FwMIQBAAGgw2Mzc0MjMxODM4MDUiDCEy%2B3s84VmQFuaQXCrcAzCvLKmvMgZVEgWhK0EIRvaylTNKZ4K%2FyM2Ok68hBfVD26mm9dSr8lQR8%2Bh4J76KZ9L%2Bnkjq%2FXPSJ4w7tVT1BAdRLZTojsclDJmUCaz0tlB3HbwmmzxErSPHtrEw1bE4luoBaDiYcwNE%2BxLnJJCb1%2FvMPXeSbIYk8FuhzDBG0%2BLk7BcPTZfzrmH2GX3mxZg0cP1kxhMlk7nNz5y5vO%2BgtR%2BawjqVhqvoZmK%2FHSRu8k8LJTps6YQVRWJLpSKi%2BSnEYzvuXshCE0NP5mNokuomVW61vUNu935EUR05nRmM3RiQ4MqdLONyuCQ13qYDd6HODcn%2Fx7ByqHxNq4%2FRRpGc9N2AqYUYkN003T7ylBR6SPLAnTbAqcOKq0DnoysxhOAAHUXsyguM7jv5UZuAY3Mzn1MY2dZ4BJhbdg0rP7Du4YOzNBetvwn%2FsCcyqdzWG%2BBWgDM%2FlGSz6or%2FAH%2FBREfHBJCAWtmWr27NeKGRSjKUQcvHF4SxiPYSNlrjbOfswGtzOu3KH2kU4er5xgoyKRCaMa%2BwDE3wi1FkoTzqdb9ZKuuIALV0z7CXie1YMTzVfP18VSj1z5MK5GERLacZ4Bgrh1LXa8ksJBwkRYzhBsOyqV9DlZ6nM2M%2FwCr9GXd9MIK4wcQGOqUBvaFnf7V%2F9c%2Bhjy8dJX%2FFmxOZc9Aq0Qu4W02M3Eh%2BbT5QOZFjYCqkmWGyR9oJx71E9Co3wIzJr6Hf2RhrTJehrRkkHqfFzOCRluTIVQPCqmg6f9Ht3FUYMvtjVkCjBCfYT%2BjiwpgHNUWaY%2F%2FQEMLXbaY8j%2BtvGgAGhYWtruWi4OaZiIP%2FVu%2FgY8Uj3YRK3yq1JRUqpYmfkg3DyOrA%2B1%2BnYhW%2FcsvT&X-Amz-Signature=bae0aa937e91ee56cb2efc3978d6a7e3d0340747dba0114b1f8daa02bfa2c949&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

클라이언트(사용)가 쿠버네티스 API로 정의한 서비스에 연결할 수 있도록 해주는 역할을 한다. 서비스의 IP와 Port로 들어온 접속을 서비스를 지원하는 POD중 하나로 연결해 준다.

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/dcc268b3-5716-45ac-bf0b-63631615eda6/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666QFEXD2O%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T071410Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAcaCXVzLXdlc3QtMiJHMEUCIQCpvXvY%2FKrmKo5c8HXg3oB%2FqNU2o4gbKltc6EYZKU2BqwIgAWSC%2FRHGAdNWZEXgL5DSP3ZGS%2FFOS92417T4uViKuCIq%2FwMIQBAAGgw2Mzc0MjMxODM4MDUiDCEy%2B3s84VmQFuaQXCrcAzCvLKmvMgZVEgWhK0EIRvaylTNKZ4K%2FyM2Ok68hBfVD26mm9dSr8lQR8%2Bh4J76KZ9L%2Bnkjq%2FXPSJ4w7tVT1BAdRLZTojsclDJmUCaz0tlB3HbwmmzxErSPHtrEw1bE4luoBaDiYcwNE%2BxLnJJCb1%2FvMPXeSbIYk8FuhzDBG0%2BLk7BcPTZfzrmH2GX3mxZg0cP1kxhMlk7nNz5y5vO%2BgtR%2BawjqVhqvoZmK%2FHSRu8k8LJTps6YQVRWJLpSKi%2BSnEYzvuXshCE0NP5mNokuomVW61vUNu935EUR05nRmM3RiQ4MqdLONyuCQ13qYDd6HODcn%2Fx7ByqHxNq4%2FRRpGc9N2AqYUYkN003T7ylBR6SPLAnTbAqcOKq0DnoysxhOAAHUXsyguM7jv5UZuAY3Mzn1MY2dZ4BJhbdg0rP7Du4YOzNBetvwn%2FsCcyqdzWG%2BBWgDM%2FlGSz6or%2FAH%2FBREfHBJCAWtmWr27NeKGRSjKUQcvHF4SxiPYSNlrjbOfswGtzOu3KH2kU4er5xgoyKRCaMa%2BwDE3wi1FkoTzqdb9ZKuuIALV0z7CXie1YMTzVfP18VSj1z5MK5GERLacZ4Bgrh1LXa8ksJBwkRYzhBsOyqV9DlZ6nM2M%2FwCr9GXd9MIK4wcQGOqUBvaFnf7V%2F9c%2Bhjy8dJX%2FFmxOZc9Aq0Qu4W02M3Eh%2BbT5QOZFjYCqkmWGyR9oJx71E9Co3wIzJr6Hf2RhrTJehrRkkHqfFzOCRluTIVQPCqmg6f9Ht3FUYMvtjVkCjBCfYT%2BjiwpgHNUWaY%2F%2FQEMLXbaY8j%2BtvGgAGhYWtruWi4OaZiIP%2FVu%2FgY8Uj3YRK3yq1JRUqpYmfkg3DyOrA%2B1%2BnYhW%2FcsvT&X-Amz-Signature=0f35bd29114561026fdc6c2813ff72088fcfde9b7fd614b3b7832970e5c3dc4b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

커널 iptables를 활용하여 연결한다.

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/6019cdb1-f915-4906-990b-fe49a1f5b1b0/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666QFEXD2O%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T071410Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAcaCXVzLXdlc3QtMiJHMEUCIQCpvXvY%2FKrmKo5c8HXg3oB%2FqNU2o4gbKltc6EYZKU2BqwIgAWSC%2FRHGAdNWZEXgL5DSP3ZGS%2FFOS92417T4uViKuCIq%2FwMIQBAAGgw2Mzc0MjMxODM4MDUiDCEy%2B3s84VmQFuaQXCrcAzCvLKmvMgZVEgWhK0EIRvaylTNKZ4K%2FyM2Ok68hBfVD26mm9dSr8lQR8%2Bh4J76KZ9L%2Bnkjq%2FXPSJ4w7tVT1BAdRLZTojsclDJmUCaz0tlB3HbwmmzxErSPHtrEw1bE4luoBaDiYcwNE%2BxLnJJCb1%2FvMPXeSbIYk8FuhzDBG0%2BLk7BcPTZfzrmH2GX3mxZg0cP1kxhMlk7nNz5y5vO%2BgtR%2BawjqVhqvoZmK%2FHSRu8k8LJTps6YQVRWJLpSKi%2BSnEYzvuXshCE0NP5mNokuomVW61vUNu935EUR05nRmM3RiQ4MqdLONyuCQ13qYDd6HODcn%2Fx7ByqHxNq4%2FRRpGc9N2AqYUYkN003T7ylBR6SPLAnTbAqcOKq0DnoysxhOAAHUXsyguM7jv5UZuAY3Mzn1MY2dZ4BJhbdg0rP7Du4YOzNBetvwn%2FsCcyqdzWG%2BBWgDM%2FlGSz6or%2FAH%2FBREfHBJCAWtmWr27NeKGRSjKUQcvHF4SxiPYSNlrjbOfswGtzOu3KH2kU4er5xgoyKRCaMa%2BwDE3wi1FkoTzqdb9ZKuuIALV0z7CXie1YMTzVfP18VSj1z5MK5GERLacZ4Bgrh1LXa8ksJBwkRYzhBsOyqV9DlZ6nM2M%2FwCr9GXd9MIK4wcQGOqUBvaFnf7V%2F9c%2Bhjy8dJX%2FFmxOZc9Aq0Qu4W02M3Eh%2BbT5QOZFjYCqkmWGyR9oJx71E9Co3wIzJr6Hf2RhrTJehrRkkHqfFzOCRluTIVQPCqmg6f9Ht3FUYMvtjVkCjBCfYT%2BjiwpgHNUWaY%2F%2FQEMLXbaY8j%2BtvGgAGhYWtruWi4OaZiIP%2FVu%2FgY8Uj3YRK3yq1JRUqpYmfkg3DyOrA%2B1%2BnYhW%2FcsvT&X-Amz-Signature=172f3bcb482b092698c6c821d638b4efcfba41c976cf72eefebba83b389504f1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


