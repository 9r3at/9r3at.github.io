---
title: "Kubernetes - Kube-Proxy"
date: 2025-08-04 06:05:00 +0900
categories: [kubernetes]
tags: [Kubernetes]
description: Kubernetes 기초
toc: true
comments: true
---

# Kube Proxy

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/09fe6073-4730-4f06-b1f3-ec4d1c892eb3/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VNS73CXU%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T070515Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAYaCXVzLXdlc3QtMiJHMEUCIQCBwgslCIvHvXoU%2Ff9WI1mDpruW3cv7nWYLVvBy8uFs3AIgXBdlZv0JQdhX6v%2BH4y6HuU0HueRn4kEGoh1Zmpk3fI4q%2FwMIPxAAGgw2Mzc0MjMxODM4MDUiDGTfYOMw4ibUYIJthyrcAz2n3gkn817RMIig932oydZH5wGz%2FFcncq6t7AqXDHOkoq1yX4JSZZbtEZygpO81BZBkDd7TANL7dYIewm8txuDEiVFGVwH%2FDnPJ383CviZq9eSY8qshLbQGwW3NWfDTaIDC8%2FCvk3KfZZtatYepdwudMyuk%2BACM75ULny2tYu6aHAE8gV3lK6pvxu%2FqB92TR%2FfmlWZo4MeHVHgXT3T050XfDXYZ98TK8OnKM0gSsLFSsznj1cSNV%2B3%2BhpL2ZIJ0kDIAp7tKIIh5TT14FT6hwaH0e%2F5O1S3efEHjb6Tzm1nuzYk2bH8sC9ETHn8f5jBetoi61JAcGwZ8i6x35INfE1tov%2F5EfRoh2kX3FbWjOMi%2FMMDm8YY2H6FgDL1PMdCG1aFdh38Zc9bj9FDvRLp0D9slXdHppaxcltVeUtjW58%2B5fLyweB7zoaRnTuLB1EuaVD60THuosskkQIVkXimlIZVPsm8tJQ8GQRLRXSHl6Zi%2BI4VW1hheR9%2FmuJABMQlyvOnWVthlt1HXxQYSME5LzHUN3qVlb0%2Fj4XL7%2B4F3MEK62GIZdqqKLo%2FkQBkVMe7blXUW1tzmpFUSIhJ4zqEP%2B6id3DvSnGjkbO3H%2ByXaI3K%2FBD15TyMdERkHIQD3MIiNwcQGOqUBUegoBMym684myc9d4H6AkHQPTXYRFsI0%2FZGwJXdjDmIzEcX46ZPszjK9eLwPvKA%2FFTzHsEOLM8JwqwsQZuSgvkTkTyLKEOJyOMC2IydxYANtkZc0kiMtyp01ffqJbMRvrGVbBdyj7rEAqNN3F6coweDEEODvcEz6%2FqXkzaZWlJ3s1k4mbxSM2uFLB%2BsPa5Qlm3N%2F59%2Bkeb9u9MkTzJapY%2BAVGcJd&X-Amz-Signature=e7dc96413df8baa443c843736f90cab9c37228b412a11044026f0e00fd774daa&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

각 Node 안쪽에 Kube-proxy가 위치한것을 볼 수 있다.

### Kube-Proxy란

K8s에서 Network를 담당하는 컴포넌트이다.

각 Node에 Proxy가 하나씩 있고, DaemonSet형태로 Kubernetes에 존재한다.

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/5523f286-c968-486e-bca5-1b7149e1bab4/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VNS73CXU%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T070515Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAYaCXVzLXdlc3QtMiJHMEUCIQCBwgslCIvHvXoU%2Ff9WI1mDpruW3cv7nWYLVvBy8uFs3AIgXBdlZv0JQdhX6v%2BH4y6HuU0HueRn4kEGoh1Zmpk3fI4q%2FwMIPxAAGgw2Mzc0MjMxODM4MDUiDGTfYOMw4ibUYIJthyrcAz2n3gkn817RMIig932oydZH5wGz%2FFcncq6t7AqXDHOkoq1yX4JSZZbtEZygpO81BZBkDd7TANL7dYIewm8txuDEiVFGVwH%2FDnPJ383CviZq9eSY8qshLbQGwW3NWfDTaIDC8%2FCvk3KfZZtatYepdwudMyuk%2BACM75ULny2tYu6aHAE8gV3lK6pvxu%2FqB92TR%2FfmlWZo4MeHVHgXT3T050XfDXYZ98TK8OnKM0gSsLFSsznj1cSNV%2B3%2BhpL2ZIJ0kDIAp7tKIIh5TT14FT6hwaH0e%2F5O1S3efEHjb6Tzm1nuzYk2bH8sC9ETHn8f5jBetoi61JAcGwZ8i6x35INfE1tov%2F5EfRoh2kX3FbWjOMi%2FMMDm8YY2H6FgDL1PMdCG1aFdh38Zc9bj9FDvRLp0D9slXdHppaxcltVeUtjW58%2B5fLyweB7zoaRnTuLB1EuaVD60THuosskkQIVkXimlIZVPsm8tJQ8GQRLRXSHl6Zi%2BI4VW1hheR9%2FmuJABMQlyvOnWVthlt1HXxQYSME5LzHUN3qVlb0%2Fj4XL7%2B4F3MEK62GIZdqqKLo%2FkQBkVMe7blXUW1tzmpFUSIhJ4zqEP%2B6id3DvSnGjkbO3H%2ByXaI3K%2FBD15TyMdERkHIQD3MIiNwcQGOqUBUegoBMym684myc9d4H6AkHQPTXYRFsI0%2FZGwJXdjDmIzEcX46ZPszjK9eLwPvKA%2FFTzHsEOLM8JwqwsQZuSgvkTkTyLKEOJyOMC2IydxYANtkZc0kiMtyp01ffqJbMRvrGVbBdyj7rEAqNN3F6coweDEEODvcEz6%2FqXkzaZWlJ3s1k4mbxSM2uFLB%2BsPa5Qlm3N%2F59%2Bkeb9u9MkTzJapY%2BAVGcJd&X-Amz-Signature=3a10fc6b6c4f29e28e2fb93e241d131df7d646e7a185460672eee335aa2896cf&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/7d447a12-8224-41fc-b731-32344196224a/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VNS73CXU%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T070515Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAYaCXVzLXdlc3QtMiJHMEUCIQCBwgslCIvHvXoU%2Ff9WI1mDpruW3cv7nWYLVvBy8uFs3AIgXBdlZv0JQdhX6v%2BH4y6HuU0HueRn4kEGoh1Zmpk3fI4q%2FwMIPxAAGgw2Mzc0MjMxODM4MDUiDGTfYOMw4ibUYIJthyrcAz2n3gkn817RMIig932oydZH5wGz%2FFcncq6t7AqXDHOkoq1yX4JSZZbtEZygpO81BZBkDd7TANL7dYIewm8txuDEiVFGVwH%2FDnPJ383CviZq9eSY8qshLbQGwW3NWfDTaIDC8%2FCvk3KfZZtatYepdwudMyuk%2BACM75ULny2tYu6aHAE8gV3lK6pvxu%2FqB92TR%2FfmlWZo4MeHVHgXT3T050XfDXYZ98TK8OnKM0gSsLFSsznj1cSNV%2B3%2BhpL2ZIJ0kDIAp7tKIIh5TT14FT6hwaH0e%2F5O1S3efEHjb6Tzm1nuzYk2bH8sC9ETHn8f5jBetoi61JAcGwZ8i6x35INfE1tov%2F5EfRoh2kX3FbWjOMi%2FMMDm8YY2H6FgDL1PMdCG1aFdh38Zc9bj9FDvRLp0D9slXdHppaxcltVeUtjW58%2B5fLyweB7zoaRnTuLB1EuaVD60THuosskkQIVkXimlIZVPsm8tJQ8GQRLRXSHl6Zi%2BI4VW1hheR9%2FmuJABMQlyvOnWVthlt1HXxQYSME5LzHUN3qVlb0%2Fj4XL7%2B4F3MEK62GIZdqqKLo%2FkQBkVMe7blXUW1tzmpFUSIhJ4zqEP%2B6id3DvSnGjkbO3H%2ByXaI3K%2FBD15TyMdERkHIQD3MIiNwcQGOqUBUegoBMym684myc9d4H6AkHQPTXYRFsI0%2FZGwJXdjDmIzEcX46ZPszjK9eLwPvKA%2FFTzHsEOLM8JwqwsQZuSgvkTkTyLKEOJyOMC2IydxYANtkZc0kiMtyp01ffqJbMRvrGVbBdyj7rEAqNN3F6coweDEEODvcEz6%2FqXkzaZWlJ3s1k4mbxSM2uFLB%2BsPa5Qlm3N%2F59%2Bkeb9u9MkTzJapY%2BAVGcJd&X-Amz-Signature=719b19d67c8b0b62dc213194c8cb871ec1464c3bf48dc322413edc3fb6be92ed&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

클라이언트(사용)가 쿠버네티스 API로 정의한 서비스에 연결할 수 있도록 해주는 역할을 한다. 서비스의 IP와 Port로 들어온 접속을 서비스를 지원하는 POD중 하나로 연결해 준다.

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/dcc268b3-5716-45ac-bf0b-63631615eda6/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VNS73CXU%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T070515Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAYaCXVzLXdlc3QtMiJHMEUCIQCBwgslCIvHvXoU%2Ff9WI1mDpruW3cv7nWYLVvBy8uFs3AIgXBdlZv0JQdhX6v%2BH4y6HuU0HueRn4kEGoh1Zmpk3fI4q%2FwMIPxAAGgw2Mzc0MjMxODM4MDUiDGTfYOMw4ibUYIJthyrcAz2n3gkn817RMIig932oydZH5wGz%2FFcncq6t7AqXDHOkoq1yX4JSZZbtEZygpO81BZBkDd7TANL7dYIewm8txuDEiVFGVwH%2FDnPJ383CviZq9eSY8qshLbQGwW3NWfDTaIDC8%2FCvk3KfZZtatYepdwudMyuk%2BACM75ULny2tYu6aHAE8gV3lK6pvxu%2FqB92TR%2FfmlWZo4MeHVHgXT3T050XfDXYZ98TK8OnKM0gSsLFSsznj1cSNV%2B3%2BhpL2ZIJ0kDIAp7tKIIh5TT14FT6hwaH0e%2F5O1S3efEHjb6Tzm1nuzYk2bH8sC9ETHn8f5jBetoi61JAcGwZ8i6x35INfE1tov%2F5EfRoh2kX3FbWjOMi%2FMMDm8YY2H6FgDL1PMdCG1aFdh38Zc9bj9FDvRLp0D9slXdHppaxcltVeUtjW58%2B5fLyweB7zoaRnTuLB1EuaVD60THuosskkQIVkXimlIZVPsm8tJQ8GQRLRXSHl6Zi%2BI4VW1hheR9%2FmuJABMQlyvOnWVthlt1HXxQYSME5LzHUN3qVlb0%2Fj4XL7%2B4F3MEK62GIZdqqKLo%2FkQBkVMe7blXUW1tzmpFUSIhJ4zqEP%2B6id3DvSnGjkbO3H%2ByXaI3K%2FBD15TyMdERkHIQD3MIiNwcQGOqUBUegoBMym684myc9d4H6AkHQPTXYRFsI0%2FZGwJXdjDmIzEcX46ZPszjK9eLwPvKA%2FFTzHsEOLM8JwqwsQZuSgvkTkTyLKEOJyOMC2IydxYANtkZc0kiMtyp01ffqJbMRvrGVbBdyj7rEAqNN3F6coweDEEODvcEz6%2FqXkzaZWlJ3s1k4mbxSM2uFLB%2BsPa5Qlm3N%2F59%2Bkeb9u9MkTzJapY%2BAVGcJd&X-Amz-Signature=8075871824b96bf6da0c8fd63c540249c74fbbb63d471523340fd9e22ca3d335&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

커널 iptables를 활용하여 연결한다.

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/6019cdb1-f915-4906-990b-fe49a1f5b1b0/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466VNS73CXU%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T070515Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAYaCXVzLXdlc3QtMiJHMEUCIQCBwgslCIvHvXoU%2Ff9WI1mDpruW3cv7nWYLVvBy8uFs3AIgXBdlZv0JQdhX6v%2BH4y6HuU0HueRn4kEGoh1Zmpk3fI4q%2FwMIPxAAGgw2Mzc0MjMxODM4MDUiDGTfYOMw4ibUYIJthyrcAz2n3gkn817RMIig932oydZH5wGz%2FFcncq6t7AqXDHOkoq1yX4JSZZbtEZygpO81BZBkDd7TANL7dYIewm8txuDEiVFGVwH%2FDnPJ383CviZq9eSY8qshLbQGwW3NWfDTaIDC8%2FCvk3KfZZtatYepdwudMyuk%2BACM75ULny2tYu6aHAE8gV3lK6pvxu%2FqB92TR%2FfmlWZo4MeHVHgXT3T050XfDXYZ98TK8OnKM0gSsLFSsznj1cSNV%2B3%2BhpL2ZIJ0kDIAp7tKIIh5TT14FT6hwaH0e%2F5O1S3efEHjb6Tzm1nuzYk2bH8sC9ETHn8f5jBetoi61JAcGwZ8i6x35INfE1tov%2F5EfRoh2kX3FbWjOMi%2FMMDm8YY2H6FgDL1PMdCG1aFdh38Zc9bj9FDvRLp0D9slXdHppaxcltVeUtjW58%2B5fLyweB7zoaRnTuLB1EuaVD60THuosskkQIVkXimlIZVPsm8tJQ8GQRLRXSHl6Zi%2BI4VW1hheR9%2FmuJABMQlyvOnWVthlt1HXxQYSME5LzHUN3qVlb0%2Fj4XL7%2B4F3MEK62GIZdqqKLo%2FkQBkVMe7blXUW1tzmpFUSIhJ4zqEP%2B6id3DvSnGjkbO3H%2ByXaI3K%2FBD15TyMdERkHIQD3MIiNwcQGOqUBUegoBMym684myc9d4H6AkHQPTXYRFsI0%2FZGwJXdjDmIzEcX46ZPszjK9eLwPvKA%2FFTzHsEOLM8JwqwsQZuSgvkTkTyLKEOJyOMC2IydxYANtkZc0kiMtyp01ffqJbMRvrGVbBdyj7rEAqNN3F6coweDEEODvcEz6%2FqXkzaZWlJ3s1k4mbxSM2uFLB%2BsPa5Qlm3N%2F59%2Bkeb9u9MkTzJapY%2BAVGcJd&X-Amz-Signature=c7f24e2593180327de9f1011466db0e880e2c5da25c5a69958d901898a6327ca&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


