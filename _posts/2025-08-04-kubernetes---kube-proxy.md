---
title: "Kubernetes - Kube-Proxy"
date: 2025-08-04 06:05:00 +0900
categories: [kubernetes]
tags: [Kubernetes]
description: Kubernetes 기초
toc: true
comments: true
---

# Kube Proxy

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/09fe6073-4730-4f06-b1f3-ec4d1c892eb3/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662KE7ZCEJ%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T063248Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAYaCXVzLXdlc3QtMiJGMEQCIHb%2FMzNJZDmtsngX7r56neeQBZ5Xinwkko%2Bn5HxJVfAyAiBWVN5id0%2BpVqpCrQqQW1rx%2FGNkWeQXY8LRJmI%2FsQJsxSr%2FAwg%2FEAAaDDYzNzQyMzE4MzgwNSIMN8cUWx0MoVywk4OJKtwD3Q5WSBbj9cfiaqvRbRzAat%2B873haDJhT8qzon97cEAsbg4igg2xM7OK4ztRE9W79rpi%2BKwCLAA4e5%2Bi2F%2B3tgm1lntkYg9FBu2tn4oiMohKjPSSHx3tQb0sFyGOHxQnorp%2FS%2BAwrjPVRNukCehCJiM%2BNcRx7enFzEewvynMYJbX2m%2BYfpY9eP4pHplTBuXSS18kmrOI7lBT1nbwMddbY%2FWHW%2BKewHu9c5K7dQjUlejsYbksHgLXUIqmrUvyW6vyyqdAnqkwnEkbPsWf%2FQUtdVLGfBvPLyXpksfWDiWvjYCCIrmOaER0I3aYwrk8kzqGEvRh%2FIYXRnBXuLCVluoelAJ18OsFpFqg%2F7W1oGEYeWSdAnGkhMk%2BASXWYh91MMUXLHYYzcZ%2By4vg3jPyceMDfzerDKT3N%2FJ1tmIPrwYSvAwUshKZ%2Bn8e9BhwepBpumCjGb3ug68K%2BqK6k2v4S%2BSYmOlp5i4NpPT6%2F%2BsHB6CjKaZcjPRjtEQ0IiZIwwA69XrJ71bV1sVTTZCEZ1K5qy9Inov707frEIISql8VUNAI88K%2F9Lvt6ARENiUIGvyf%2FuoQzBK18lQv%2F%2FjTbjRzQvOXND4nucWA8IidBPgKhWolBx%2FN4nDhxdfC%2FFkdUwMMw0Y3BxAY6pgGhfPVFw0a479zzCtAJcMeFVaF0x3F%2FVYJ571plHRQk%2FMhdYjdgnlVystjm7XjHGV6W2fmaFGh8AR9jvpNK5kg5%2FWUK6%2BpvWtThlL6JqlLeef7f%2F19PK4sQ8Ca2C2Ro%2FOk2rfRgsw4u3Md26gQva%2F2DRzCZKGRsdzmf1nMTaTM9XhtKqyEP%2FdJSMew1rbODVxVC%2F%2BOka%2BIAEan7qqK1uVbL4g6XOMMD&X-Amz-Signature=7fed5b8cc141cd83f063b75dea8ccf13ccc472f2b8eb52d035161cafdd6bcebb&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

각 Node 안쪽에 Kube-proxy가 위치한것을 볼 수 있다.

### Kube-Proxy란

K8s에서 Network를 담당하는 컴포넌트이다.

각 Node에 Proxy가 하나씩 있고, DaemonSet형태로 Kubernetes에 존재한다.

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/5523f286-c968-486e-bca5-1b7149e1bab4/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662KE7ZCEJ%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T063248Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAYaCXVzLXdlc3QtMiJGMEQCIHb%2FMzNJZDmtsngX7r56neeQBZ5Xinwkko%2Bn5HxJVfAyAiBWVN5id0%2BpVqpCrQqQW1rx%2FGNkWeQXY8LRJmI%2FsQJsxSr%2FAwg%2FEAAaDDYzNzQyMzE4MzgwNSIMN8cUWx0MoVywk4OJKtwD3Q5WSBbj9cfiaqvRbRzAat%2B873haDJhT8qzon97cEAsbg4igg2xM7OK4ztRE9W79rpi%2BKwCLAA4e5%2Bi2F%2B3tgm1lntkYg9FBu2tn4oiMohKjPSSHx3tQb0sFyGOHxQnorp%2FS%2BAwrjPVRNukCehCJiM%2BNcRx7enFzEewvynMYJbX2m%2BYfpY9eP4pHplTBuXSS18kmrOI7lBT1nbwMddbY%2FWHW%2BKewHu9c5K7dQjUlejsYbksHgLXUIqmrUvyW6vyyqdAnqkwnEkbPsWf%2FQUtdVLGfBvPLyXpksfWDiWvjYCCIrmOaER0I3aYwrk8kzqGEvRh%2FIYXRnBXuLCVluoelAJ18OsFpFqg%2F7W1oGEYeWSdAnGkhMk%2BASXWYh91MMUXLHYYzcZ%2By4vg3jPyceMDfzerDKT3N%2FJ1tmIPrwYSvAwUshKZ%2Bn8e9BhwepBpumCjGb3ug68K%2BqK6k2v4S%2BSYmOlp5i4NpPT6%2F%2BsHB6CjKaZcjPRjtEQ0IiZIwwA69XrJ71bV1sVTTZCEZ1K5qy9Inov707frEIISql8VUNAI88K%2F9Lvt6ARENiUIGvyf%2FuoQzBK18lQv%2F%2FjTbjRzQvOXND4nucWA8IidBPgKhWolBx%2FN4nDhxdfC%2FFkdUwMMw0Y3BxAY6pgGhfPVFw0a479zzCtAJcMeFVaF0x3F%2FVYJ571plHRQk%2FMhdYjdgnlVystjm7XjHGV6W2fmaFGh8AR9jvpNK5kg5%2FWUK6%2BpvWtThlL6JqlLeef7f%2F19PK4sQ8Ca2C2Ro%2FOk2rfRgsw4u3Md26gQva%2F2DRzCZKGRsdzmf1nMTaTM9XhtKqyEP%2FdJSMew1rbODVxVC%2F%2BOka%2BIAEan7qqK1uVbL4g6XOMMD&X-Amz-Signature=d6af0a10d5db343eed5df922bba59b6e8c647d01b7c1da15f09455b38bcf51b1&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/7d447a12-8224-41fc-b731-32344196224a/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662KE7ZCEJ%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T063248Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAYaCXVzLXdlc3QtMiJGMEQCIHb%2FMzNJZDmtsngX7r56neeQBZ5Xinwkko%2Bn5HxJVfAyAiBWVN5id0%2BpVqpCrQqQW1rx%2FGNkWeQXY8LRJmI%2FsQJsxSr%2FAwg%2FEAAaDDYzNzQyMzE4MzgwNSIMN8cUWx0MoVywk4OJKtwD3Q5WSBbj9cfiaqvRbRzAat%2B873haDJhT8qzon97cEAsbg4igg2xM7OK4ztRE9W79rpi%2BKwCLAA4e5%2Bi2F%2B3tgm1lntkYg9FBu2tn4oiMohKjPSSHx3tQb0sFyGOHxQnorp%2FS%2BAwrjPVRNukCehCJiM%2BNcRx7enFzEewvynMYJbX2m%2BYfpY9eP4pHplTBuXSS18kmrOI7lBT1nbwMddbY%2FWHW%2BKewHu9c5K7dQjUlejsYbksHgLXUIqmrUvyW6vyyqdAnqkwnEkbPsWf%2FQUtdVLGfBvPLyXpksfWDiWvjYCCIrmOaER0I3aYwrk8kzqGEvRh%2FIYXRnBXuLCVluoelAJ18OsFpFqg%2F7W1oGEYeWSdAnGkhMk%2BASXWYh91MMUXLHYYzcZ%2By4vg3jPyceMDfzerDKT3N%2FJ1tmIPrwYSvAwUshKZ%2Bn8e9BhwepBpumCjGb3ug68K%2BqK6k2v4S%2BSYmOlp5i4NpPT6%2F%2BsHB6CjKaZcjPRjtEQ0IiZIwwA69XrJ71bV1sVTTZCEZ1K5qy9Inov707frEIISql8VUNAI88K%2F9Lvt6ARENiUIGvyf%2FuoQzBK18lQv%2F%2FjTbjRzQvOXND4nucWA8IidBPgKhWolBx%2FN4nDhxdfC%2FFkdUwMMw0Y3BxAY6pgGhfPVFw0a479zzCtAJcMeFVaF0x3F%2FVYJ571plHRQk%2FMhdYjdgnlVystjm7XjHGV6W2fmaFGh8AR9jvpNK5kg5%2FWUK6%2BpvWtThlL6JqlLeef7f%2F19PK4sQ8Ca2C2Ro%2FOk2rfRgsw4u3Md26gQva%2F2DRzCZKGRsdzmf1nMTaTM9XhtKqyEP%2FdJSMew1rbODVxVC%2F%2BOka%2BIAEan7qqK1uVbL4g6XOMMD&X-Amz-Signature=970fb181b2e0bdbcf2f28a0fdc1e84001c17b154debeb3c7e1a8359752dd0c3e&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

클라이언트(사용)가 쿠버네티스 API로 정의한 서비스에 연결할 수 있도록 해주는 역할을 한다. 서비스의 IP와 Port로 들어온 접속을 서비스를 지원하는 POD중 하나로 연결해 준다.

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/dcc268b3-5716-45ac-bf0b-63631615eda6/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662KE7ZCEJ%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T063248Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAYaCXVzLXdlc3QtMiJGMEQCIHb%2FMzNJZDmtsngX7r56neeQBZ5Xinwkko%2Bn5HxJVfAyAiBWVN5id0%2BpVqpCrQqQW1rx%2FGNkWeQXY8LRJmI%2FsQJsxSr%2FAwg%2FEAAaDDYzNzQyMzE4MzgwNSIMN8cUWx0MoVywk4OJKtwD3Q5WSBbj9cfiaqvRbRzAat%2B873haDJhT8qzon97cEAsbg4igg2xM7OK4ztRE9W79rpi%2BKwCLAA4e5%2Bi2F%2B3tgm1lntkYg9FBu2tn4oiMohKjPSSHx3tQb0sFyGOHxQnorp%2FS%2BAwrjPVRNukCehCJiM%2BNcRx7enFzEewvynMYJbX2m%2BYfpY9eP4pHplTBuXSS18kmrOI7lBT1nbwMddbY%2FWHW%2BKewHu9c5K7dQjUlejsYbksHgLXUIqmrUvyW6vyyqdAnqkwnEkbPsWf%2FQUtdVLGfBvPLyXpksfWDiWvjYCCIrmOaER0I3aYwrk8kzqGEvRh%2FIYXRnBXuLCVluoelAJ18OsFpFqg%2F7W1oGEYeWSdAnGkhMk%2BASXWYh91MMUXLHYYzcZ%2By4vg3jPyceMDfzerDKT3N%2FJ1tmIPrwYSvAwUshKZ%2Bn8e9BhwepBpumCjGb3ug68K%2BqK6k2v4S%2BSYmOlp5i4NpPT6%2F%2BsHB6CjKaZcjPRjtEQ0IiZIwwA69XrJ71bV1sVTTZCEZ1K5qy9Inov707frEIISql8VUNAI88K%2F9Lvt6ARENiUIGvyf%2FuoQzBK18lQv%2F%2FjTbjRzQvOXND4nucWA8IidBPgKhWolBx%2FN4nDhxdfC%2FFkdUwMMw0Y3BxAY6pgGhfPVFw0a479zzCtAJcMeFVaF0x3F%2FVYJ571plHRQk%2FMhdYjdgnlVystjm7XjHGV6W2fmaFGh8AR9jvpNK5kg5%2FWUK6%2BpvWtThlL6JqlLeef7f%2F19PK4sQ8Ca2C2Ro%2FOk2rfRgsw4u3Md26gQva%2F2DRzCZKGRsdzmf1nMTaTM9XhtKqyEP%2FdJSMew1rbODVxVC%2F%2BOka%2BIAEan7qqK1uVbL4g6XOMMD&X-Amz-Signature=65020a810a5f3e59927ad978b9e22f9d39cbb9a9f409151b860790e7af4dfe11&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

커널 iptables를 활용하여 연결한다.

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/6019cdb1-f915-4906-990b-fe49a1f5b1b0/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4662KE7ZCEJ%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T063248Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAYaCXVzLXdlc3QtMiJGMEQCIHb%2FMzNJZDmtsngX7r56neeQBZ5Xinwkko%2Bn5HxJVfAyAiBWVN5id0%2BpVqpCrQqQW1rx%2FGNkWeQXY8LRJmI%2FsQJsxSr%2FAwg%2FEAAaDDYzNzQyMzE4MzgwNSIMN8cUWx0MoVywk4OJKtwD3Q5WSBbj9cfiaqvRbRzAat%2B873haDJhT8qzon97cEAsbg4igg2xM7OK4ztRE9W79rpi%2BKwCLAA4e5%2Bi2F%2B3tgm1lntkYg9FBu2tn4oiMohKjPSSHx3tQb0sFyGOHxQnorp%2FS%2BAwrjPVRNukCehCJiM%2BNcRx7enFzEewvynMYJbX2m%2BYfpY9eP4pHplTBuXSS18kmrOI7lBT1nbwMddbY%2FWHW%2BKewHu9c5K7dQjUlejsYbksHgLXUIqmrUvyW6vyyqdAnqkwnEkbPsWf%2FQUtdVLGfBvPLyXpksfWDiWvjYCCIrmOaER0I3aYwrk8kzqGEvRh%2FIYXRnBXuLCVluoelAJ18OsFpFqg%2F7W1oGEYeWSdAnGkhMk%2BASXWYh91MMUXLHYYzcZ%2By4vg3jPyceMDfzerDKT3N%2FJ1tmIPrwYSvAwUshKZ%2Bn8e9BhwepBpumCjGb3ug68K%2BqK6k2v4S%2BSYmOlp5i4NpPT6%2F%2BsHB6CjKaZcjPRjtEQ0IiZIwwA69XrJ71bV1sVTTZCEZ1K5qy9Inov707frEIISql8VUNAI88K%2F9Lvt6ARENiUIGvyf%2FuoQzBK18lQv%2F%2FjTbjRzQvOXND4nucWA8IidBPgKhWolBx%2FN4nDhxdfC%2FFkdUwMMw0Y3BxAY6pgGhfPVFw0a479zzCtAJcMeFVaF0x3F%2FVYJ571plHRQk%2FMhdYjdgnlVystjm7XjHGV6W2fmaFGh8AR9jvpNK5kg5%2FWUK6%2BpvWtThlL6JqlLeef7f%2F19PK4sQ8Ca2C2Ro%2FOk2rfRgsw4u3Md26gQva%2F2DRzCZKGRsdzmf1nMTaTM9XhtKqyEP%2FdJSMew1rbODVxVC%2F%2BOka%2BIAEan7qqK1uVbL4g6XOMMD&X-Amz-Signature=8db0f09547cdc611da816df10a4f117ced590becf716d6bcdbb87bbfcb525bbb&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


