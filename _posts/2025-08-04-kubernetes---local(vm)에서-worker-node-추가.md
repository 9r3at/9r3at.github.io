---
title: "Kubernetes - Local(VM)에서 Worker Node 추가"
date: 2025-08-04 06:05:00 +0900
categories: [kubernetes]
tags: [Kubernetes]
description: Kubernetes 기초
toc: true
comments: true
---

### Master Node와 기존에 이미 Worker Node가 있는 경우입니다

VMWare Pro환경

1. 기존 WorkNode의 스냅샵을 복사해서 열어준다
![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/21b55de0-e97e-4c3e-8482-c14068e3facf/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666H33H5BM%2F20250805%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250805T061115Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEB4aCXVzLXdlc3QtMiJHMEUCIQCiYuu5EOLBSK18VA1JO2eCwgPCNzgxq0ELKPUrnc7bigIgYzxFPvVKZxa5gNqn0iN7nPgG%2BtG7upvZuaPp0H6CT%2FYq%2FwMIVxAAGgw2Mzc0MjMxODM4MDUiDBvxZnSFDvFp5%2BAY%2ByrcA5AhwCr0s7rgyNILC5Mvj9QT%2BT%2FJA8D40FSaU7saC4GFsg1bvpwPL0U4HXCNEFUh2w415Q6VE5YS3RTMxkoemjB%2B7gc2R2YBjZPEhmyE4feH8G%2Fj9JQLDgJprstEPAwTkpNlJeR356cy0bdXUtMf44hVekU%2FiWh3p7pIihPRKO8FFI6oHK95zxWDHDPknxqPb2izjG%2Bv%2FEskGRSAsnz3aRGH3b3mGjJv3gw8M78NonQkwLxtZJSg%2BSNM0xNfX3H6SiwK%2BZ3SU5JEhtfMwTmmAar%2B%2FZ%2Bo5LnTvC3NaLpNyAnnSHYxEsxHU67UWq0pr8bCJwGzxxr2PAnpUGfg7hfzmfhEOaXherz3IE2DdOsm3ibAItKLa%2F9RBS66zE%2B268VER1L9%2BdNMaag%2B4LHi00Zyt0x27RcLWQwWezjn4EE0PCFKk7DpGJope2FEnpcwW05a25D2L6J2annjgHKSjxDuO0Zdw9owLnREoJC7v9A6pvCcaqyX2kULJakxFr5f%2FzAYi7KCN5Db%2B7j77sApN96kLccZoD0xyERwkU9u348jOkPugq2wCNhFpwiYJNPsTbfXSdiuItB0eqyEgvljdNtD9VcNh2I9wwscEFrOQG73zzhlyWWxMRLlzsUeIAMZMLizxsQGOqUB1SBj8QpWZ2AJ%2BLG2wlp7YgZZdWk%2BGJpJ04S8hCLUSdH7WP6M6GrJtrDLPGZbVTDMyYrLGjuIBgRq7411P9fhRXHPbukbb0XN4YVz5pkPq9ThcD2Y05RHHXOi%2FItmOLEz7KlNBQH8dg77N1WuG%2Fx4eF%2F6NwCv8%2BWKuNP5PBP%2Bl6KZsfLTdSu28p1K9ClHEeMZoLQz6a9RiE9aa0wMyFUfEH3JEbpl&X-Amz-Signature=c628eb6c012458e20e26e38ba4f3c6102e94319d7632bab728575bb3363ac640&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. Workstation에서 스냅샷을 열어준다
![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/f970e8c2-39e0-470f-823e-d9c5606d3fd1/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666H33H5BM%2F20250805%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250805T061115Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEB4aCXVzLXdlc3QtMiJHMEUCIQCiYuu5EOLBSK18VA1JO2eCwgPCNzgxq0ELKPUrnc7bigIgYzxFPvVKZxa5gNqn0iN7nPgG%2BtG7upvZuaPp0H6CT%2FYq%2FwMIVxAAGgw2Mzc0MjMxODM4MDUiDBvxZnSFDvFp5%2BAY%2ByrcA5AhwCr0s7rgyNILC5Mvj9QT%2BT%2FJA8D40FSaU7saC4GFsg1bvpwPL0U4HXCNEFUh2w415Q6VE5YS3RTMxkoemjB%2B7gc2R2YBjZPEhmyE4feH8G%2Fj9JQLDgJprstEPAwTkpNlJeR356cy0bdXUtMf44hVekU%2FiWh3p7pIihPRKO8FFI6oHK95zxWDHDPknxqPb2izjG%2Bv%2FEskGRSAsnz3aRGH3b3mGjJv3gw8M78NonQkwLxtZJSg%2BSNM0xNfX3H6SiwK%2BZ3SU5JEhtfMwTmmAar%2B%2FZ%2Bo5LnTvC3NaLpNyAnnSHYxEsxHU67UWq0pr8bCJwGzxxr2PAnpUGfg7hfzmfhEOaXherz3IE2DdOsm3ibAItKLa%2F9RBS66zE%2B268VER1L9%2BdNMaag%2B4LHi00Zyt0x27RcLWQwWezjn4EE0PCFKk7DpGJope2FEnpcwW05a25D2L6J2annjgHKSjxDuO0Zdw9owLnREoJC7v9A6pvCcaqyX2kULJakxFr5f%2FzAYi7KCN5Db%2B7j77sApN96kLccZoD0xyERwkU9u348jOkPugq2wCNhFpwiYJNPsTbfXSdiuItB0eqyEgvljdNtD9VcNh2I9wwscEFrOQG73zzhlyWWxMRLlzsUeIAMZMLizxsQGOqUB1SBj8QpWZ2AJ%2BLG2wlp7YgZZdWk%2BGJpJ04S8hCLUSdH7WP6M6GrJtrDLPGZbVTDMyYrLGjuIBgRq7411P9fhRXHPbukbb0XN4YVz5pkPq9ThcD2Y05RHHXOi%2FItmOLEz7KlNBQH8dg77N1WuG%2Fx4eF%2F6NwCv8%2BWKuNP5PBP%2Bl6KZsfLTdSu28p1K9ClHEeMZoLQz6a9RiE9aa0wMyFUfEH3JEbpl&X-Amz-Signature=422c8f97df5181e2d6c31a1399724e1cb8dd76da6ca2e9746fb99266f0b94d61&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 기존 Node들을 종료하고 새로운 Node를 실행한다.
1. 네트워크 설정이 있었다면 바꿔준다.
1. kubeadm 초기화
```yaml
kubeadm reset
```

1. Master Node로 돌아가서 token을 생성한다.
```yaml
kubeadm token create -h #도움말
kubeadm token create --print-join-command #토큰 명령어
--> 결과값을 새로 생성한 Node에 복붙해주면 된다
```

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/f3aff170-0497-48fa-9f87-e4431356d68c/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4666H33H5BM%2F20250805%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250805T061115Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEB4aCXVzLXdlc3QtMiJHMEUCIQCiYuu5EOLBSK18VA1JO2eCwgPCNzgxq0ELKPUrnc7bigIgYzxFPvVKZxa5gNqn0iN7nPgG%2BtG7upvZuaPp0H6CT%2FYq%2FwMIVxAAGgw2Mzc0MjMxODM4MDUiDBvxZnSFDvFp5%2BAY%2ByrcA5AhwCr0s7rgyNILC5Mvj9QT%2BT%2FJA8D40FSaU7saC4GFsg1bvpwPL0U4HXCNEFUh2w415Q6VE5YS3RTMxkoemjB%2B7gc2R2YBjZPEhmyE4feH8G%2Fj9JQLDgJprstEPAwTkpNlJeR356cy0bdXUtMf44hVekU%2FiWh3p7pIihPRKO8FFI6oHK95zxWDHDPknxqPb2izjG%2Bv%2FEskGRSAsnz3aRGH3b3mGjJv3gw8M78NonQkwLxtZJSg%2BSNM0xNfX3H6SiwK%2BZ3SU5JEhtfMwTmmAar%2B%2FZ%2Bo5LnTvC3NaLpNyAnnSHYxEsxHU67UWq0pr8bCJwGzxxr2PAnpUGfg7hfzmfhEOaXherz3IE2DdOsm3ibAItKLa%2F9RBS66zE%2B268VER1L9%2BdNMaag%2B4LHi00Zyt0x27RcLWQwWezjn4EE0PCFKk7DpGJope2FEnpcwW05a25D2L6J2annjgHKSjxDuO0Zdw9owLnREoJC7v9A6pvCcaqyX2kULJakxFr5f%2FzAYi7KCN5Db%2B7j77sApN96kLccZoD0xyERwkU9u348jOkPugq2wCNhFpwiYJNPsTbfXSdiuItB0eqyEgvljdNtD9VcNh2I9wwscEFrOQG73zzhlyWWxMRLlzsUeIAMZMLizxsQGOqUB1SBj8QpWZ2AJ%2BLG2wlp7YgZZdWk%2BGJpJ04S8hCLUSdH7WP6M6GrJtrDLPGZbVTDMyYrLGjuIBgRq7411P9fhRXHPbukbb0XN4YVz5pkPq9ThcD2Y05RHHXOi%2FItmOLEz7KlNBQH8dg77N1WuG%2Fx4eF%2F6NwCv8%2BWKuNP5PBP%2Bl6KZsfLTdSu28p1K9ClHEeMZoLQz6a9RiE9aa0wMyFUfEH3JEbpl&X-Amz-Signature=c75e1098babe59c8035d86953d4ed1b2cb99db5f705ca630575e14809fe14550&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


