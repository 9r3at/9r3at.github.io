---
title: "Kubernetes - Local(VM)에서 Worker Node 추가"
date: 2025-08-04 06:05:00 +0900
categories: [kubernetes]
tags: [Kubernetes]
description: Kubernetes 기초
toc: true
comments: true
---

### Master Node와 기존에 이미 Worker Node가 있는 경우입니다

VMWare Pro환경

1. 기존 WorkNode의 스냅샵을 복사해서 열어준다
![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/21b55de0-e97e-4c3e-8482-c14068e3facf/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SWBXKDXP%2F20250805%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250805T002828Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBcaCXVzLXdlc3QtMiJHMEUCIQCjVprs7VNQHAdK%2FNZgaNJiEoxTTe%2FnBZpMQKk2A5UltgIgEQdZwXfTgH4N9zziSYQC8g6ZdvNC6%2BWc3cVYl%2FkiEsAq%2FwMIUBAAGgw2Mzc0MjMxODM4MDUiDHxJ3MmMCmei5ICiVCrcA48vpktvJBIdAY%2BMBrR1XpJXt%2Bdp17xUd9xZkaqurecMxz%2FUaulrqqtZnspXQ7EWJKjm1fr%2BaALTF%2FMyPstPbH8AwLvA0Hv1e77I46L8%2B85dCiB4VCvGTvdGr1pi1%2Fff%2B799YgqDmRtibjhen8ZQh%2FBd7d6YqHg6vaG6DSg12VAT6aH56Dxu9lgQD6d1%2BsDhBs9ADqOUxRSk5nbCr%2FkXion31tgLD4jJEsaMn8V5QNKC2LLGaeaJhOC1veq4nAM5lqnd2080XfWYDM47mYlk1e0yGoFteB1Gcjccs93vOG9FgrWEgjlwTH4bO51I%2B%2FQ8he2w6YckjfNcKrBi%2F%2FT2iWDhHoHc6rZxRsmos04NTdIXfe8MIg5cMEitdvVIsJnk25e48wpJ0EqNLsleTJhbKmmfGSh5YLIpk%2F8bqktdISXixeSwyyj8kS647N7dXY6PxUj5GKrtVv28ti%2BjNmoqDXx68j0sQmKwUyMUpc0rXmf3N8P7gzemwRhekP8UBwX%2BuxEnFI%2BRJL5ea2AdmA6U7bsEGqiiu6H3pb4niu6%2Fuek2xGhDSxPSgp1jxUEIBpnQ1K%2Fyf9k5sEW5tMqI6AsAJTJDgXu0jE%2BGQjtQP4%2BM1DVCoiH34i5LGdf4hizXMIz0xMQGOqUBfScHBrL8PyZGh%2F2kzHoefmsSBasdSqq0rCi%2BnIY332q44izl0sNwaCEyc8QJV7k2RfBXS8ZbE%2BVlF3eVJnk9hc6pLDEoYNo2NJBdwVG2UNhtuG2bIpkdaJ3Vel4oOls7YBYD7v8BupW720dtU9IHprlIsij2vstdlbKBSEZcxl974SsTRNh1k3%2BZBWUvsfs5y0Frx5N0coE%2BHzUp2H8JKpiA9kMo&X-Amz-Signature=a489f07df962ba15b3df8dc8ca9e9fe24f91f8b3729134b468690dbd138acd3b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. Workstation에서 스냅샷을 열어준다
![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/f970e8c2-39e0-470f-823e-d9c5606d3fd1/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SWBXKDXP%2F20250805%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250805T002828Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBcaCXVzLXdlc3QtMiJHMEUCIQCjVprs7VNQHAdK%2FNZgaNJiEoxTTe%2FnBZpMQKk2A5UltgIgEQdZwXfTgH4N9zziSYQC8g6ZdvNC6%2BWc3cVYl%2FkiEsAq%2FwMIUBAAGgw2Mzc0MjMxODM4MDUiDHxJ3MmMCmei5ICiVCrcA48vpktvJBIdAY%2BMBrR1XpJXt%2Bdp17xUd9xZkaqurecMxz%2FUaulrqqtZnspXQ7EWJKjm1fr%2BaALTF%2FMyPstPbH8AwLvA0Hv1e77I46L8%2B85dCiB4VCvGTvdGr1pi1%2Fff%2B799YgqDmRtibjhen8ZQh%2FBd7d6YqHg6vaG6DSg12VAT6aH56Dxu9lgQD6d1%2BsDhBs9ADqOUxRSk5nbCr%2FkXion31tgLD4jJEsaMn8V5QNKC2LLGaeaJhOC1veq4nAM5lqnd2080XfWYDM47mYlk1e0yGoFteB1Gcjccs93vOG9FgrWEgjlwTH4bO51I%2B%2FQ8he2w6YckjfNcKrBi%2F%2FT2iWDhHoHc6rZxRsmos04NTdIXfe8MIg5cMEitdvVIsJnk25e48wpJ0EqNLsleTJhbKmmfGSh5YLIpk%2F8bqktdISXixeSwyyj8kS647N7dXY6PxUj5GKrtVv28ti%2BjNmoqDXx68j0sQmKwUyMUpc0rXmf3N8P7gzemwRhekP8UBwX%2BuxEnFI%2BRJL5ea2AdmA6U7bsEGqiiu6H3pb4niu6%2Fuek2xGhDSxPSgp1jxUEIBpnQ1K%2Fyf9k5sEW5tMqI6AsAJTJDgXu0jE%2BGQjtQP4%2BM1DVCoiH34i5LGdf4hizXMIz0xMQGOqUBfScHBrL8PyZGh%2F2kzHoefmsSBasdSqq0rCi%2BnIY332q44izl0sNwaCEyc8QJV7k2RfBXS8ZbE%2BVlF3eVJnk9hc6pLDEoYNo2NJBdwVG2UNhtuG2bIpkdaJ3Vel4oOls7YBYD7v8BupW720dtU9IHprlIsij2vstdlbKBSEZcxl974SsTRNh1k3%2BZBWUvsfs5y0Frx5N0coE%2BHzUp2H8JKpiA9kMo&X-Amz-Signature=6e95f0439f7b5bcdc1e77c9d424fc46ececd2765d3e66f2e624afc149a4a059a&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 기존 Node들을 종료하고 새로운 Node를 실행한다.
1. 네트워크 설정이 있었다면 바꿔준다.
1. kubeadm 초기화
```yaml
kubeadm reset
```

1. Master Node로 돌아가서 token을 생성한다.
```yaml
kubeadm token create -h #도움말
kubeadm token create --print-join-command #토큰 명령어
--> 결과값을 새로 생성한 Node에 복붙해주면 된다
```

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/f3aff170-0497-48fa-9f87-e4431356d68c/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466SWBXKDXP%2F20250805%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250805T002828Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBcaCXVzLXdlc3QtMiJHMEUCIQCjVprs7VNQHAdK%2FNZgaNJiEoxTTe%2FnBZpMQKk2A5UltgIgEQdZwXfTgH4N9zziSYQC8g6ZdvNC6%2BWc3cVYl%2FkiEsAq%2FwMIUBAAGgw2Mzc0MjMxODM4MDUiDHxJ3MmMCmei5ICiVCrcA48vpktvJBIdAY%2BMBrR1XpJXt%2Bdp17xUd9xZkaqurecMxz%2FUaulrqqtZnspXQ7EWJKjm1fr%2BaALTF%2FMyPstPbH8AwLvA0Hv1e77I46L8%2B85dCiB4VCvGTvdGr1pi1%2Fff%2B799YgqDmRtibjhen8ZQh%2FBd7d6YqHg6vaG6DSg12VAT6aH56Dxu9lgQD6d1%2BsDhBs9ADqOUxRSk5nbCr%2FkXion31tgLD4jJEsaMn8V5QNKC2LLGaeaJhOC1veq4nAM5lqnd2080XfWYDM47mYlk1e0yGoFteB1Gcjccs93vOG9FgrWEgjlwTH4bO51I%2B%2FQ8he2w6YckjfNcKrBi%2F%2FT2iWDhHoHc6rZxRsmos04NTdIXfe8MIg5cMEitdvVIsJnk25e48wpJ0EqNLsleTJhbKmmfGSh5YLIpk%2F8bqktdISXixeSwyyj8kS647N7dXY6PxUj5GKrtVv28ti%2BjNmoqDXx68j0sQmKwUyMUpc0rXmf3N8P7gzemwRhekP8UBwX%2BuxEnFI%2BRJL5ea2AdmA6U7bsEGqiiu6H3pb4niu6%2Fuek2xGhDSxPSgp1jxUEIBpnQ1K%2Fyf9k5sEW5tMqI6AsAJTJDgXu0jE%2BGQjtQP4%2BM1DVCoiH34i5LGdf4hizXMIz0xMQGOqUBfScHBrL8PyZGh%2F2kzHoefmsSBasdSqq0rCi%2BnIY332q44izl0sNwaCEyc8QJV7k2RfBXS8ZbE%2BVlF3eVJnk9hc6pLDEoYNo2NJBdwVG2UNhtuG2bIpkdaJ3Vel4oOls7YBYD7v8BupW720dtU9IHprlIsij2vstdlbKBSEZcxl974SsTRNh1k3%2BZBWUvsfs5y0Frx5N0coE%2BHzUp2H8JKpiA9kMo&X-Amz-Signature=18ea19e8ce018140da31259d449e7dfbf5738af7700da38122eab795512a865b&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


