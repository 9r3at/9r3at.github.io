---
title: "Kubernetes - Local(VM)에서 Worker Node 추가"
date: 2025-08-04 06:05:00 +0900
categories: [kubernetes]
tags: [Kubernetes]
description: Kubernetes 기초
toc: true
comments: true
---

### Master Node와 기존에 이미 Worker Node가 있는 경우입니다

VMWare Pro환경

1. 기존 WorkNode의 스냅샵을 복사해서 열어준다
![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/21b55de0-e97e-4c3e-8482-c14068e3facf/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667EF6MM5G%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T072124Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAcaCXVzLXdlc3QtMiJGMEQCIB7AHhVtbVPvD0H7G861cwA50W86VuaD7iPyONZ%2FsoJrAiAkJMe3bUB2%2FS%2FOKZCRcT4djQv5V6MCNvZp9vuLHzFUwir%2FAwhAEAAaDDYzNzQyMzE4MzgwNSIMk1yj8ynJ2gmPmdMqKtwDQtjtvJyzAhwpHXXPvO8ANBhj2xpQtLURZ2h7dHVcjs5pUoE%2F42NQAlZ1YZVUgTTst400yQ7FuaeZ6zR1DYoZqcqCIrCS6Y1Ii%2BTe1SedvXi0HRHKDUBgdZdPDjDthu6z%2Bnj7kdPYtBhlak7AJa%2FX3ATBFyI95K8h4FKTs3aZh70WG6wgVLXq%2FwELM0FOF0K7xMRD5G8T2imwLQceTLsjtHA9tdcUFpW3DLvlL7HY3GtcD7%2FVDUSEUmT2lCp0u63wnNYc0bJg6n5GefYE6kovj0bpoOvGEMh5pyyqG3jOxblb94hncpYtAxNSYIo7VqleMWyv6xZFAVxfYU3O3sqN8AP50EGAQ%2BVNGqyCJimRwo4hftthYkCBIPn%2F5ypUGffC%2FxSUM%2FD%2FY7JdRlP5b6uJAf6lhy9dztDTdk85Ihk09fDinNgI%2FHZVryf%2BDFf2bLM5TDw4oM5eU6wOmIj7KsjH7lx0m9GJaIiBKSLazuLbI37b2eYeYIdSFR%2FPzNK07Kij3LRt06s7ihuBoCltqgUFEoqIT8D%2Fyny9Om%2BdtS3XEDSD2hsgpvS4iJkMSDu6RtUJYbsyN5fMwG%2F1LGZ%2FovD0Wf8WI5bqrCvo80m24bNV1R3omFvXGWT9EkDkPSswzLbBxAY6pgG2c80%2BKDim0AvuOHFrgeFohRUYrHpDjk3edvNWcqK9CLhWJkoAG3P2jl89JtiBBFgThnnYnclb%2BLA6jAOeTacjyF9PesKLFYzdXkcmobMQy9u5aCGLZeiY8KSd3GSy0jzHQRglzbrEaFp3CGsTCPpDjoonCv%2FP7gYz7CS8BoMeDXXoK1%2Bm%2Bwcrnvj3ZcEAfqMYF9dR%2B0oYWcVIYC0V%2F7oqOca1Ub08&X-Amz-Signature=fc9d7e232065f1c9cf51e5a9a7f8f3188d6bdf38a4b59b1a6eb39bb2ddf0e6ce&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. Workstation에서 스냅샷을 열어준다
![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/f970e8c2-39e0-470f-823e-d9c5606d3fd1/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667EF6MM5G%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T072124Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAcaCXVzLXdlc3QtMiJGMEQCIB7AHhVtbVPvD0H7G861cwA50W86VuaD7iPyONZ%2FsoJrAiAkJMe3bUB2%2FS%2FOKZCRcT4djQv5V6MCNvZp9vuLHzFUwir%2FAwhAEAAaDDYzNzQyMzE4MzgwNSIMk1yj8ynJ2gmPmdMqKtwDQtjtvJyzAhwpHXXPvO8ANBhj2xpQtLURZ2h7dHVcjs5pUoE%2F42NQAlZ1YZVUgTTst400yQ7FuaeZ6zR1DYoZqcqCIrCS6Y1Ii%2BTe1SedvXi0HRHKDUBgdZdPDjDthu6z%2Bnj7kdPYtBhlak7AJa%2FX3ATBFyI95K8h4FKTs3aZh70WG6wgVLXq%2FwELM0FOF0K7xMRD5G8T2imwLQceTLsjtHA9tdcUFpW3DLvlL7HY3GtcD7%2FVDUSEUmT2lCp0u63wnNYc0bJg6n5GefYE6kovj0bpoOvGEMh5pyyqG3jOxblb94hncpYtAxNSYIo7VqleMWyv6xZFAVxfYU3O3sqN8AP50EGAQ%2BVNGqyCJimRwo4hftthYkCBIPn%2F5ypUGffC%2FxSUM%2FD%2FY7JdRlP5b6uJAf6lhy9dztDTdk85Ihk09fDinNgI%2FHZVryf%2BDFf2bLM5TDw4oM5eU6wOmIj7KsjH7lx0m9GJaIiBKSLazuLbI37b2eYeYIdSFR%2FPzNK07Kij3LRt06s7ihuBoCltqgUFEoqIT8D%2Fyny9Om%2BdtS3XEDSD2hsgpvS4iJkMSDu6RtUJYbsyN5fMwG%2F1LGZ%2FovD0Wf8WI5bqrCvo80m24bNV1R3omFvXGWT9EkDkPSswzLbBxAY6pgG2c80%2BKDim0AvuOHFrgeFohRUYrHpDjk3edvNWcqK9CLhWJkoAG3P2jl89JtiBBFgThnnYnclb%2BLA6jAOeTacjyF9PesKLFYzdXkcmobMQy9u5aCGLZeiY8KSd3GSy0jzHQRglzbrEaFp3CGsTCPpDjoonCv%2FP7gYz7CS8BoMeDXXoK1%2Bm%2Bwcrnvj3ZcEAfqMYF9dR%2B0oYWcVIYC0V%2F7oqOca1Ub08&X-Amz-Signature=b8d23b48088c73ff18d30be4017636e82c1bb0a4d946e8b7356e859a39b68fb7&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 기존 Node들을 종료하고 새로운 Node를 실행한다.
1. 네트워크 설정이 있었다면 바꿔준다.
1. kubeadm 초기화
```yaml
kubeadm reset
```

1. Master Node로 돌아가서 token을 생성한다.
```yaml
kubeadm token create -h #도움말
kubeadm token create --print-join-command #토큰 명령어
--> 결과값을 새로 생성한 Node에 복붙해주면 된다
```

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/f3aff170-0497-48fa-9f87-e4431356d68c/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667EF6MM5G%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T072124Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAcaCXVzLXdlc3QtMiJGMEQCIB7AHhVtbVPvD0H7G861cwA50W86VuaD7iPyONZ%2FsoJrAiAkJMe3bUB2%2FS%2FOKZCRcT4djQv5V6MCNvZp9vuLHzFUwir%2FAwhAEAAaDDYzNzQyMzE4MzgwNSIMk1yj8ynJ2gmPmdMqKtwDQtjtvJyzAhwpHXXPvO8ANBhj2xpQtLURZ2h7dHVcjs5pUoE%2F42NQAlZ1YZVUgTTst400yQ7FuaeZ6zR1DYoZqcqCIrCS6Y1Ii%2BTe1SedvXi0HRHKDUBgdZdPDjDthu6z%2Bnj7kdPYtBhlak7AJa%2FX3ATBFyI95K8h4FKTs3aZh70WG6wgVLXq%2FwELM0FOF0K7xMRD5G8T2imwLQceTLsjtHA9tdcUFpW3DLvlL7HY3GtcD7%2FVDUSEUmT2lCp0u63wnNYc0bJg6n5GefYE6kovj0bpoOvGEMh5pyyqG3jOxblb94hncpYtAxNSYIo7VqleMWyv6xZFAVxfYU3O3sqN8AP50EGAQ%2BVNGqyCJimRwo4hftthYkCBIPn%2F5ypUGffC%2FxSUM%2FD%2FY7JdRlP5b6uJAf6lhy9dztDTdk85Ihk09fDinNgI%2FHZVryf%2BDFf2bLM5TDw4oM5eU6wOmIj7KsjH7lx0m9GJaIiBKSLazuLbI37b2eYeYIdSFR%2FPzNK07Kij3LRt06s7ihuBoCltqgUFEoqIT8D%2Fyny9Om%2BdtS3XEDSD2hsgpvS4iJkMSDu6RtUJYbsyN5fMwG%2F1LGZ%2FovD0Wf8WI5bqrCvo80m24bNV1R3omFvXGWT9EkDkPSswzLbBxAY6pgG2c80%2BKDim0AvuOHFrgeFohRUYrHpDjk3edvNWcqK9CLhWJkoAG3P2jl89JtiBBFgThnnYnclb%2BLA6jAOeTacjyF9PesKLFYzdXkcmobMQy9u5aCGLZeiY8KSd3GSy0jzHQRglzbrEaFp3CGsTCPpDjoonCv%2FP7gYz7CS8BoMeDXXoK1%2Bm%2Bwcrnvj3ZcEAfqMYF9dR%2B0oYWcVIYC0V%2F7oqOca1Ub08&X-Amz-Signature=b25dbbf532a1057c354058e18aad093c07affa74a2454447d8ff039dead4f9f2&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


