---
title: "Kubernetes - Local(VM)에서 Worker Node 추가"
date: 2025-08-04 06:05:00 +0900
categories: [kubernetes]
tags: [Kubernetes]
description: Kubernetes 기초
toc: true
comments: true
---

### Master Node와 기존에 이미 Worker Node가 있는 경우입니다

VMWare Pro환경

1. 기존 WorkNode의 스냅샵을 복사해서 열어준다
![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/21b55de0-e97e-4c3e-8482-c14068e3facf/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46627HVOQYB%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T072255Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAcaCXVzLXdlc3QtMiJGMEQCIFrdukEwBmfqMNomqD6Tp3iBBAbZ1Y6syrKAJnlrD4LKAiBST4flX33%2FODTlEu1ZVx3Lvn%2Fo4BwjulifFVHI5wnrJCr%2FAwhAEAAaDDYzNzQyMzE4MzgwNSIMPtFC%2F759nHXgDAU3KtwDkUD3S4r7gMqSglt9NKewjZ3etVRxTxKCPqna6ESmZI4kfG4s34gE8WrgpCvLcILNO4q%2B6LbmWTsOlmW8lx%2BH8rUehgG7hgdZjlcXNLI3ayhiaxcHjJey%2F6ODf7mkh64Sk2CMYGRQJIh%2F3nQc4vuxf2Xi0wI5fftjtqHT0%2F0RkuzjGYRcMqxL6SeDqznyETgktfabBkvLh1dpCRKfIZ6EuQK4QmEmmO899Q0yxb%2F%2FncmBBYqLZuEsg%2FRv9UtWAYBkJWYBVxo2Y7ZiaLSliYr34SFAQ38US5CEWPkdeYBP8oeefJwuHWKFKxuoqHQ%2BbAiFQzTftUfXF61KjcHN6GKmce7T8XUiDGa1hC%2B7qq73pO2RxvdihEkmA8CsdXz1tnH1cVtHnJk3Cjtl2Oa49No1N%2FqwiXjjIiBHYHyEPKY4%2BnICjlMr5c7GAEHi%2Br%2BsrfBtvSIIqg18dkcEpG4U9XwXAfncIiJM%2BOhETk27d%2FClNQJ5BbXYM31IcaprUvmkyfp2rv0omrF3ZK6g1WOS1quZJJYsYGchWiFsxn1QbxvT4YfMPe77KOOLm05wW9Y2YXuR6gp8kf8FxTsWRfYuJVm031AOBn7gJf5geEXTR8xTwGJkhrkhFXpbJewJqiswg7fBxAY6pgEswJWOQ3foqC5dHbHGeT4btDPhM8Hv8kCDhnHiC6feWB50yvIL0%2FgOmZTzTzPVkCcjz2wKQc4m1o1ODC%2FmqqsbekB7WbScv1ThTiu44Sem04AeMQqMnHzF5WY6u6pPvrs9DV3T%2BGBcIAISL4pmGJ9FSjtf8V69N2owbaOlbK7Fu6r3%2BFfj0q0Yjf7xuvSYFyz5UZ%2FTKnCuLGkYY%2B0yASVAONtqg1em&X-Amz-Signature=f3fb8d24e0edcff99ef72cdd8048743e89f21bac727abb6b41a5f63298bc0cac&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. Workstation에서 스냅샷을 열어준다
![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/f970e8c2-39e0-470f-823e-d9c5606d3fd1/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46627HVOQYB%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T072255Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAcaCXVzLXdlc3QtMiJGMEQCIFrdukEwBmfqMNomqD6Tp3iBBAbZ1Y6syrKAJnlrD4LKAiBST4flX33%2FODTlEu1ZVx3Lvn%2Fo4BwjulifFVHI5wnrJCr%2FAwhAEAAaDDYzNzQyMzE4MzgwNSIMPtFC%2F759nHXgDAU3KtwDkUD3S4r7gMqSglt9NKewjZ3etVRxTxKCPqna6ESmZI4kfG4s34gE8WrgpCvLcILNO4q%2B6LbmWTsOlmW8lx%2BH8rUehgG7hgdZjlcXNLI3ayhiaxcHjJey%2F6ODf7mkh64Sk2CMYGRQJIh%2F3nQc4vuxf2Xi0wI5fftjtqHT0%2F0RkuzjGYRcMqxL6SeDqznyETgktfabBkvLh1dpCRKfIZ6EuQK4QmEmmO899Q0yxb%2F%2FncmBBYqLZuEsg%2FRv9UtWAYBkJWYBVxo2Y7ZiaLSliYr34SFAQ38US5CEWPkdeYBP8oeefJwuHWKFKxuoqHQ%2BbAiFQzTftUfXF61KjcHN6GKmce7T8XUiDGa1hC%2B7qq73pO2RxvdihEkmA8CsdXz1tnH1cVtHnJk3Cjtl2Oa49No1N%2FqwiXjjIiBHYHyEPKY4%2BnICjlMr5c7GAEHi%2Br%2BsrfBtvSIIqg18dkcEpG4U9XwXAfncIiJM%2BOhETk27d%2FClNQJ5BbXYM31IcaprUvmkyfp2rv0omrF3ZK6g1WOS1quZJJYsYGchWiFsxn1QbxvT4YfMPe77KOOLm05wW9Y2YXuR6gp8kf8FxTsWRfYuJVm031AOBn7gJf5geEXTR8xTwGJkhrkhFXpbJewJqiswg7fBxAY6pgEswJWOQ3foqC5dHbHGeT4btDPhM8Hv8kCDhnHiC6feWB50yvIL0%2FgOmZTzTzPVkCcjz2wKQc4m1o1ODC%2FmqqsbekB7WbScv1ThTiu44Sem04AeMQqMnHzF5WY6u6pPvrs9DV3T%2BGBcIAISL4pmGJ9FSjtf8V69N2owbaOlbK7Fu6r3%2BFfj0q0Yjf7xuvSYFyz5UZ%2FTKnCuLGkYY%2B0yASVAONtqg1em&X-Amz-Signature=3e8333857254e0425c0ab79f860a4215cd0798de66c7a05b71b0bf12e0f662ec&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)

1. 기존 Node들을 종료하고 새로운 Node를 실행한다.
1. 네트워크 설정이 있었다면 바꿔준다.
1. kubeadm 초기화
```yaml
kubeadm reset
```

1. Master Node로 돌아가서 token을 생성한다.
```yaml
kubeadm token create -h #도움말
kubeadm token create --print-join-command #토큰 명령어
--> 결과값을 새로 생성한 Node에 복붙해주면 된다
```

![Image](https://prod-files-secure.s3.us-west-2.amazonaws.com/e6db513d-ec54-40ff-aa74-2487b0bcfe15/f3aff170-0497-48fa-9f87-e4431356d68c/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46627HVOQYB%2F20250804%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250804T072255Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEAcaCXVzLXdlc3QtMiJGMEQCIFrdukEwBmfqMNomqD6Tp3iBBAbZ1Y6syrKAJnlrD4LKAiBST4flX33%2FODTlEu1ZVx3Lvn%2Fo4BwjulifFVHI5wnrJCr%2FAwhAEAAaDDYzNzQyMzE4MzgwNSIMPtFC%2F759nHXgDAU3KtwDkUD3S4r7gMqSglt9NKewjZ3etVRxTxKCPqna6ESmZI4kfG4s34gE8WrgpCvLcILNO4q%2B6LbmWTsOlmW8lx%2BH8rUehgG7hgdZjlcXNLI3ayhiaxcHjJey%2F6ODf7mkh64Sk2CMYGRQJIh%2F3nQc4vuxf2Xi0wI5fftjtqHT0%2F0RkuzjGYRcMqxL6SeDqznyETgktfabBkvLh1dpCRKfIZ6EuQK4QmEmmO899Q0yxb%2F%2FncmBBYqLZuEsg%2FRv9UtWAYBkJWYBVxo2Y7ZiaLSliYr34SFAQ38US5CEWPkdeYBP8oeefJwuHWKFKxuoqHQ%2BbAiFQzTftUfXF61KjcHN6GKmce7T8XUiDGa1hC%2B7qq73pO2RxvdihEkmA8CsdXz1tnH1cVtHnJk3Cjtl2Oa49No1N%2FqwiXjjIiBHYHyEPKY4%2BnICjlMr5c7GAEHi%2Br%2BsrfBtvSIIqg18dkcEpG4U9XwXAfncIiJM%2BOhETk27d%2FClNQJ5BbXYM31IcaprUvmkyfp2rv0omrF3ZK6g1WOS1quZJJYsYGchWiFsxn1QbxvT4YfMPe77KOOLm05wW9Y2YXuR6gp8kf8FxTsWRfYuJVm031AOBn7gJf5geEXTR8xTwGJkhrkhFXpbJewJqiswg7fBxAY6pgEswJWOQ3foqC5dHbHGeT4btDPhM8Hv8kCDhnHiC6feWB50yvIL0%2FgOmZTzTzPVkCcjz2wKQc4m1o1ODC%2FmqqsbekB7WbScv1ThTiu44Sem04AeMQqMnHzF5WY6u6pPvrs9DV3T%2BGBcIAISL4pmGJ9FSjtf8V69N2owbaOlbK7Fu6r3%2BFfj0q0Yjf7xuvSYFyz5UZ%2FTKnCuLGkYY%2B0yASVAONtqg1em&X-Amz-Signature=b90f9beeed874912ca8ea37aca8d721e6681d47b016939b88c0d5c28c4b45fa2&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


